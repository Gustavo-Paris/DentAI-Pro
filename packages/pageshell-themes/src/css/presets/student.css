/**
 * Student Theme Preset
 *
 * Supports light and dark modes with Emerald primary accent.
 * Designed for student dashboard / learning journey.
 *
 * @package @pageshell/themes
 */

/* ===== BASE THEME (applies to both light and dark) ===== */
.ui-theme[data-theme="student"],
.ui-theme-student {
  /* Primary - Emerald (learning/growth) */
  --theme-primary: var(--color-emerald-500);
  --theme-primary-hover: var(--color-emerald-400);
  --theme-primary-muted: var(--color-emerald-muted);
  --theme-primary-glow: var(--color-emerald-glow);
  --theme-primary-text: #ffffff;

  /* Accent - Sky (clarity, focus) */
  --theme-accent: var(--color-sky-500);
  --theme-accent-hover: var(--color-sky-400);
  --theme-accent-muted: var(--color-sky-muted);

  /* Override globals.css accent with theme-specific colors */
  --color-primary: var(--color-emerald-500);
  --color-accent: var(--color-sky-500);
  --color-accent-foreground: #ffffff;

  /* Theme glow for effects */
  --theme-glow: var(--color-emerald-500);

  /* Glow effects */
  --glow-primary: 0 0 20px var(--color-emerald-glow);
  --glow-accent: 0 0 20px var(--color-sky-glow);
}

/* ===== LIGHT MODE SIDEBAR ===== */
.ui-theme[data-theme="student"],
.ui-theme-student {
  /* Sidebar tokens - Student Light Mode */
  --sidebar: #f8fafc;
  --sidebar-foreground: #0f172a;
  --sidebar-border: #e2e8f0;
  --sidebar-accent: color-mix(in oklch, var(--color-emerald-500) 10%, #f1f5f9);
  --sidebar-accent-foreground: #0f172a;
  --sidebar-primary: var(--color-emerald-500);
  --sidebar-primary-foreground: #ffffff;

  /* Tailwind color overrides for sidebar utilities */
  --color-sidebar: #f8fafc;
  --color-sidebar-foreground: #0f172a;
  --color-sidebar-primary: var(--color-emerald-500);
  --color-sidebar-primary-foreground: #ffffff;
  --color-sidebar-accent: color-mix(in oklch, var(--color-emerald-500) 10%, #f1f5f9);
  --color-sidebar-accent-foreground: #0f172a;
  --color-sidebar-border: #e2e8f0;
}

/* ===== DARK MODE SIDEBAR ===== */
.dark .ui-theme[data-theme="student"],
.dark .ui-theme-student {
  /* Sidebar tokens - Student Dark Mode */
  --sidebar: var(--color-neutral-800);
  --sidebar-foreground: var(--color-neutral-50);
  --sidebar-border: var(--color-neutral-800);
  --sidebar-accent: color-mix(in oklch, var(--color-emerald-500) 15%, var(--color-neutral-900));
  --sidebar-accent-foreground: var(--color-neutral-50);
  --sidebar-primary: var(--color-emerald-500);
  --sidebar-primary-foreground: var(--color-neutral-950);

  /* Tailwind color overrides for sidebar utilities */
  --color-sidebar: var(--color-neutral-800);
  --color-sidebar-foreground: var(--color-neutral-50);
  --color-sidebar-primary: var(--color-emerald-500);
  --color-sidebar-primary-foreground: var(--color-neutral-950);
  --color-sidebar-accent: color-mix(in oklch, var(--color-emerald-500) 15%, var(--color-neutral-900));
  --color-sidebar-accent-foreground: var(--color-neutral-50);
  --color-sidebar-border: var(--color-neutral-800);
}

/* ===== LIGHT MODE PORTAL FIXES (ADR-0043) ===== */
/* Override colors for portals in light mode */
.sidebar-dropdown {
  --color-popover: #ffffff;
  --color-popover-foreground: #0f172a;
  --color-accent: color-mix(in oklch, var(--color-emerald-500) 15%, #f1f5f9);
  --color-accent-foreground: #0f172a;
  --color-muted: #f1f5f9;
  --color-muted-foreground: #475569;
  --color-border: #e2e8f0;
  background-color: #ffffff !important;
  color: #0f172a !important;
  border-color: #e2e8f0 !important;
}

.themed-dropdown,
.themed-popover,
.themed-select {
  --color-popover: #ffffff;
  --color-popover-foreground: #0f172a;
  --color-accent: color-mix(in oklch, var(--color-emerald-500) 10%, #f1f5f9);
  --color-accent-foreground: #0f172a;
  --color-muted: #f1f5f9;
  --color-muted-foreground: #475569;
  --color-border: #e2e8f0;
  background-color: #ffffff !important;
  color: #0f172a !important;
  border-color: #e2e8f0 !important;
}

.themed-dialog,
.themed-sheet {
  --color-background: #ffffff;
  --color-foreground: #0f172a;
  --color-border: #e2e8f0;
  --color-muted: #f1f5f9;
  --color-muted-foreground: #475569;
  --color-primary: #10b981;
  --color-primary-foreground: #ffffff;
  background-color: #ffffff !important;
  color: #0f172a !important;
  border-color: #e2e8f0 !important;
}

.themed-tooltip {
  --color-primary: #10b981;
  --color-primary-foreground: #ffffff;
  background-color: #10b981 !important;
  color: #ffffff !important;
}

/* ===== DARK MODE PORTAL FIXES (ADR-0043) ===== */
/* Override colors for portals in dark mode */
.dark .sidebar-dropdown {
  --color-popover: var(--color-neutral-800);
  --color-popover-foreground: var(--color-neutral-50);
  --color-accent: color-mix(in oklch, var(--color-emerald-500) 25%, var(--color-neutral-700));
  --color-accent-foreground: var(--color-neutral-50);
  --color-muted: color-mix(in oklch, var(--color-emerald-500) 20%, var(--color-neutral-700));
  --color-muted-foreground: var(--color-neutral-50);
  --color-border: var(--color-neutral-600);
  background-color: var(--color-neutral-800) !important;
  color: var(--color-neutral-50) !important;
  border-color: var(--color-neutral-600) !important;
}

.dark .themed-dropdown,
.dark .themed-popover,
.dark .themed-select {
  --color-popover: #1f1b25;
  --color-popover-foreground: #f6f5f7;
  --color-accent: #1a4a3a;
  --color-accent-foreground: #f6f5f7;
  --color-muted: #1a4035;
  --color-muted-foreground: #f6f5f7;
  --color-border: #322d3a;
  background-color: #1f1b25 !important;
  color: #f6f5f7 !important;
  border-color: #322d3a !important;
}

.dark .themed-dialog,
.dark .themed-sheet {
  --color-background: #151318;
  --color-foreground: #f6f5f7;
  --color-border: #28232f;
  --color-muted: #1f1b25;
  --color-muted-foreground: #6b6473;
  --color-primary: #10b981;
  --color-primary-foreground: #ffffff;
  background-color: #151318 !important;
  color: #f6f5f7 !important;
  border-color: #28232f !important;
}
