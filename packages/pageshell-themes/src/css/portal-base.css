/**
 * Portal Base Theme
 *
 * MIGRATION GUIDE (2025-12-24):
 * ─────────────────────────────
 * The portal-theme class system is deprecated.
 * Use ui-theme selectors instead:
 *
 * Before: <div class="portal-theme creator-theme">
 * After:  <div class="ui-theme ui-theme-creator">
 *
 * Both systems currently work identically.
 * portal-theme will be removed in next major version.
 *
 * @package @pageshell/themes
 */

/* ===== ANIMATION TOKENS ===== */
/**
 * Global animation timing tokens.
 * These variables ensure consistent animation timing across all components.
 *
 * @see animation-tokens.ts for JavaScript constants
 */
:root {
  /* Durations */
  --animation-duration-fast: 150ms;
  --animation-duration-normal: 200ms;
  --animation-duration-slow: 300ms;
  --animation-duration-slower: 400ms;

  /* Easing */
  --animation-easing-ease-out: ease-out;
  --animation-easing-ease-in-out: ease-in-out;
  --animation-easing-spring: cubic-bezier(0.34, 1.56, 0.64, 1);

  /* Stagger delays */
  --animation-stagger-fast: 30ms;
  --animation-stagger-normal: 50ms;
  --animation-stagger-slow: 80ms;
}

/* Reduced motion: disable animations for accessibility */
@media (prefers-reduced-motion: reduce) {
  :root {
    --animation-duration-fast: 0ms;
    --animation-duration-normal: 0ms;
    --animation-duration-slow: 0ms;
    --animation-duration-slower: 0ms;
    --animation-stagger-fast: 0ms;
    --animation-stagger-normal: 0ms;
    --animation-stagger-slow: 0ms;
  }
}

/* ===== LIGHT MODE BASE ===== */
/**
 * @deprecated Use .ui-theme instead
 * Will be removed in next major version
 *
 * IMPORTANT: Colors use hex format for Tailwind v4 compatibility.
 * Tailwind v4 utilities like .bg-card resolve to: background-color: var(--color-card);
 * so the variable must contain a valid color value (not RGB numbers).
 */
.portal-theme,
.ui-theme {
  /* Core Surfaces - Neutral base */
  --color-background: #fafafc;
  --color-foreground: #0f172a;
  --color-card: #ffffff;
  --color-card-foreground: #0f172a;
  --color-popover: #ffffff;
  --color-popover-foreground: #0f172a;
  --color-muted: #f1f5f9;
  --color-muted-foreground: #475569;
  --color-border: #e2e8f0;
  --color-input: #e2e8f0;

  /* Secondary - Neutral */
  --color-secondary: #f1f5f9;
  --color-secondary-foreground: #0f172a;

  /* Semantic Colors */
  --color-success: #16a34a;
  --color-success-muted: rgba(22, 163, 74, 0.1);
  --color-destructive: #dc2626;
  --color-destructive-muted: rgba(220, 38, 38, 0.1);
  --color-warning: #d97706;
  --color-warning-muted: rgba(217, 119, 6, 0.1);
  --color-info: #2563eb;
  --color-info-muted: rgba(37, 99, 235, 0.1);

  /* Glass effects */
  --glass-bg: rgba(0, 0, 0, 0.02);
  --glass-border: rgba(0, 0, 0, 0.06);
  --glass-highlight: rgba(0, 0, 0, 0.02);

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
}

/* ===== DARK MODE BASE ===== */
/**
 * @deprecated Use .ui-theme instead
 * Will be removed in next major version
 *
 * IMPORTANT: Colors use hex format for Tailwind v4 compatibility.
 */
.dark .portal-theme,
.dark .ui-theme {
  /* Core Surfaces - Industrial Dark */
  --color-background: #08080c;
  --color-foreground: #e4e4eb;
  --color-card: #14141c;
  --color-card-foreground: #e4e4eb;
  --color-popover: #14141c;
  --color-popover-foreground: #e4e4eb;
  --color-muted: #1a1a24;
  --color-muted-foreground: #71717a;
  --color-border: #2a2a3a;
  --color-input: #2a2a3a;

  /* Secondary - Neutral */
  --color-secondary: #1a1a24;
  --color-secondary-foreground: #e4e4eb;

  /* Semantic Colors - Brighter for dark mode */
  --color-success: #10b981;
  --color-success-muted: rgba(16, 185, 129, 0.15);
  --color-destructive: #ef4444;
  --color-destructive-muted: rgba(239, 68, 68, 0.15);
  --color-warning: #f59e0b;
  --color-warning-muted: rgba(245, 158, 11, 0.15);
  --color-info: #3b82f6;
  --color-info-muted: rgba(59, 130, 246, 0.15);

  /* Glass effects */
  --glass-bg: rgba(255, 255, 255, 0.03);
  --glass-border: rgba(255, 255, 255, 0.08);
  --glass-highlight: rgba(255, 255, 255, 0.05);

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.5);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.6);
}

/* ===== DARK MODE FOR PORTAL THEMES ===== */
/* Creator, Admin, and Student portals now respect user theme choice */
/**
 * @deprecated Use .ui-theme-{theme} instead of .portal-theme.{theme}-theme
 * Will be removed in next major version
 *
 * IMPORTANT: Colors use hex format for Tailwind v4 compatibility.
 * Tailwind v4 utilities like .bg-card resolve to: background-color: var(--color-card);
 * so the variable must contain a valid color value (not RGB numbers).
 */
.dark .portal-theme.creator-theme,
.dark .portal-theme.admin-theme,
.dark .portal-theme.student-theme,
.dark .ui-theme-creator,
.dark .ui-theme-admin,
.dark .ui-theme-student {
  /* Core Surfaces - Industrial Dark */
  --color-background: #08080c;
  --color-foreground: #e4e4eb;
  --color-card: #14141c;
  --color-card-foreground: #e4e4eb;
  --color-popover: #14141c;
  --color-popover-foreground: #e4e4eb;
  --color-muted: #1a1a24;
  --color-muted-foreground: #71717a;
  --color-border: #2a2a3a;
  --color-input: #2a2a3a;

  /* Secondary - Neutral */
  --color-secondary: #1a1a24;
  --color-secondary-foreground: #e4e4eb;

  /* Semantic Colors - Brighter for dark mode */
  --color-success: #10b981;
  --color-success-muted: rgba(16, 185, 129, 0.15);
  --color-destructive: #ef4444;
  --color-destructive-muted: rgba(239, 68, 68, 0.15);
  --color-warning: #f59e0b;
  --color-warning-muted: rgba(245, 158, 11, 0.15);
  --color-info: #3b82f6;
  --color-info-muted: rgba(59, 130, 246, 0.15);

  /* Glass effects */
  --glass-bg: rgba(255, 255, 255, 0.03);
  --glass-border: rgba(255, 255, 255, 0.08);
  --glass-highlight: rgba(255, 255, 255, 0.05);

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.5);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.6);
}

/* ===== RGB-COMPATIBLE COLOR VARIABLES ===== */
/**
 * These variables provide space-separated RGB values for use with
 * rgb() function and opacity modifiers. They are required because
 * --color-primary/accent from tokens/semantic.css use oklch/hex format
 * which is incompatible with rgb(var(...) / opacity) syntax.
 *
 * @see ADR-0013: CSS Variable Format Compatibility
 */

/* Default theme colors (violet primary, cyan accent) */
.portal-theme,
.ui-theme {
  --color-primary-rgb: 139 92 246;       /* violet-500 */
  --color-primary-hover-rgb: 167 139 250; /* violet-400 */
  --color-accent-rgb: 6 182 212;          /* cyan-500 */
  --color-accent-hover-rgb: 34 211 238;   /* cyan-400 */
  --color-primary-foreground: #ffffff;    /* white text on primary */
}

/* Dark mode defaults */
.dark .portal-theme,
.dark .ui-theme {
  --color-primary-rgb: 139 92 246;
  --color-primary-hover-rgb: 167 139 250;
  --color-accent-rgb: 6 182 212;
  --color-accent-hover-rgb: 34 211 238;
  --color-primary-foreground: #ffffff;    /* white text on primary */
}

/* Admin theme: cyan primary, amber accent */
.portal-theme.admin-theme,
.ui-theme-admin {
  --color-primary-rgb: 6 182 212;         /* cyan-500 */
  --color-primary-hover-rgb: 34 211 238;  /* cyan-400 */
  --color-accent-rgb: 245 158 11;         /* amber-500 */
  --color-accent-hover-rgb: 251 191 36;   /* amber-400 */
  --color-primary-foreground: #000000;    /* black text on cyan (better contrast) */
}

/* Creator theme: violet primary, emerald accent */
.portal-theme.creator-theme,
.ui-theme-creator {
  --color-primary-rgb: 139 92 246;        /* violet-500 */
  --color-primary-hover-rgb: 167 139 250; /* violet-400 */
  --color-accent-rgb: 16 185 129;         /* emerald-500 */
  --color-accent-hover-rgb: 52 211 153;   /* emerald-400 */
  --color-primary-foreground: #ffffff;    /* white text on violet */
}

/* Student theme: emerald primary, violet accent */
.portal-theme.student-theme,
.ui-theme-student {
  --color-primary-rgb: 16 185 129;        /* emerald-500 */
  --color-primary-hover-rgb: 52 211 153;  /* emerald-400 */
  --color-accent-rgb: 139 92 246;         /* violet-500 */
  --color-accent-hover-rgb: 167 139 250;  /* violet-400 */
  --color-primary-foreground: #000000;    /* black text on emerald (better contrast) */
}

/* ===== BASE STYLES ===== */
/**
 * @deprecated Use .ui-theme instead
 * Will be removed in next major version
 */
.portal-theme,
.ui-theme {
  background-color: var(--color-background);
  color: var(--color-foreground);
  font-family: var(--font-sans, system-ui, -apple-system, sans-serif);
  min-height: 100vh;
  overflow-x: hidden;
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  transition: background-color 0.5s ease-out, color 0.3s ease-out;
}

/**
 * @deprecated Use .ui-theme instead
 * Will be removed in next major version
 */
.portal-theme *,
.ui-theme * {
  border-color: var(--color-border);
}

/* ===== SHARED TYPOGRAPHY ===== */
.portal-heading {
  font-family: var(--font-sans, system-ui, -apple-system, sans-serif);
  font-weight: 600;
  letter-spacing: -0.025em;
  color: var(--color-foreground);
}

.portal-heading-xl {
  font-size: 2rem;
  line-height: 1.2;
}

.portal-heading-lg {
  font-size: 1.5rem;
  line-height: 1.3;
}

.portal-heading-md {
  font-size: 1.125rem;
  line-height: 1.4;
}

.portal-mono {
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  font-size: 0.875rem;
}

.portal-label {
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-muted-foreground);
}

/* ===== SHARED STAT CARDS ===== */
.portal-stat {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.portal-stat-value {
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  font-size: 2rem;
  font-weight: 600;
  color: var(--color-foreground);
  line-height: 1;
}

.portal-stat-label {
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--color-muted-foreground);
}

.portal-stat-trend {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.75rem;
  font-weight: 500;
}

.portal-stat-trend.positive {
  color: var(--color-success);
}

.portal-stat-trend.negative {
  color: var(--color-destructive);
}

/* ===== STAT CARD VARIANTS ===== */
.portal-stat-card {
  position: relative;
  overflow: hidden;
  padding: 1.25rem;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.portal-stat-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, transparent, var(--color-primary), transparent);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.portal-stat-card::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.portal-stat-card:hover {
  transform: translateY(-2px);
}

.portal-stat-card:hover::before {
  opacity: 1;
}

.portal-stat-card:hover::after {
  opacity: 1;
}

/* Variant-specific colors */
.portal-stat-card-primary::before {
  background: linear-gradient(90deg, transparent, var(--color-primary), transparent);
}

.portal-stat-card-primary::after {
  box-shadow: 0 8px 24px -8px rgb(var(--color-primary-rgb) / 0.15);
}

.portal-stat-card-secondary::before {
  background: linear-gradient(90deg, transparent, var(--color-muted-foreground), transparent);
}

.portal-stat-card-secondary::after {
  box-shadow: 0 8px 24px -8px color-mix(in srgb, var(--color-muted-foreground) 10%, transparent);
}

.portal-stat-card-accent::before {
  background: linear-gradient(90deg, transparent, var(--color-accent), transparent);
}

.portal-stat-card-accent::after {
  box-shadow: 0 8px 24px -8px rgb(var(--color-accent-rgb) / 0.15);
}

.portal-stat-card-streak::before {
  background: linear-gradient(90deg, transparent, rgb(245 158 11), transparent);
}

.portal-stat-card-streak::after {
  box-shadow: 0 8px 24px -8px rgb(245 158 11 / 0.15);
}

.portal-stat-card-warning::before {
  background: linear-gradient(90deg, transparent, var(--color-warning), transparent);
}

.portal-stat-card-warning::after {
  box-shadow: 0 8px 24px -8px color-mix(in srgb, var(--color-warning) 15%, transparent);
}

.portal-stat-card-info::before {
  background: linear-gradient(90deg, transparent, var(--color-info), transparent);
}

.portal-stat-card-info::after {
  box-shadow: 0 8px 24px -8px color-mix(in srgb, var(--color-info) 15%, transparent);
}

.portal-stat-card-success::before {
  background: linear-gradient(90deg, transparent, var(--color-success), transparent);
}

.portal-stat-card-success::after {
  box-shadow: 0 8px 24px -8px color-mix(in srgb, var(--color-success) 15%, transparent);
}

/* ===== MODULE CARD (Navigation/Admin Modules) ===== */
.portal-module-card {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: 1.25rem;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.portal-module-card::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  border: 1px solid transparent;
  opacity: 0;
  transition: all 0.3s ease;
  pointer-events: none;
}

.portal-module-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 32px -8px rgb(var(--color-primary-rgb) / 0.15);
}

.portal-module-card:hover::before {
  opacity: 1;
  border-color: rgb(var(--color-primary-rgb) / 0.3);
}

/* Module Card Grid */
.portal-module-grid {
  display: grid;
  grid-template-columns: repeat(1, 1fr);
  gap: 1rem;
}

@media (min-width: 640px) {
  .portal-module-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .portal-module-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

.portal-stat-icon {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-stat-icon.primary {
  background: rgb(var(--color-primary-rgb) / 0.1);
  color: var(--color-primary);
}

.portal-stat-icon.secondary {
  background: var(--color-muted);
  color: var(--color-muted-foreground);
}

.portal-stat-icon.accent {
  background: rgb(var(--color-accent-rgb) / 0.1);
  color: var(--color-accent);
}

.portal-stat-icon.streak {
  background: rgb(245 158 11 / 0.1); /* amber with opacity */
  color: rgb(245 158 11); /* amber-500 */
}

.portal-stat-icon.warning {
  background: color-mix(in srgb, var(--color-warning) 10%, transparent);
  color: var(--color-warning);
}

.portal-stat-icon.info {
  background: color-mix(in srgb, var(--color-info) 10%, transparent);
  color: var(--color-info);
}

.portal-stat-icon.success {
  background: color-mix(in srgb, var(--color-success) 10%, transparent);
  color: var(--color-success);
}

/* ===== BADGE CARDS ===== */
.portal-badge-card {
  position: relative;
  padding: 1.5rem;
  border-radius: 16px;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
}

.portal-badge-card-unlocked {
  border-color: rgb(var(--color-accent-rgb) / 0.3);
}

.portal-badge-card-unlocked:hover {
  transform: translateY(-4px);
  border-color: rgb(var(--color-accent-rgb) / 0.5);
  box-shadow:
    0 20px 40px -10px rgb(var(--color-accent-rgb) / 0.2),
    0 0 30px rgb(var(--color-accent-rgb) / 0.1);
}

.portal-badge-card-locked {
  opacity: 0.7;
}

.portal-badge-card-locked:hover {
  opacity: 0.85;
  transform: translateY(-2px);
}

.portal-badge-card-glow {
  position: absolute;
  inset: -50%;
  background: radial-gradient(circle at center, rgb(var(--color-accent-rgb) / 0.1) 0%, transparent 70%);
  pointer-events: none;
  animation: portal-badge-glow 3s ease-in-out infinite;
}

@keyframes portal-badge-glow {
  0%, 100% { opacity: 0.5; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.1); }
}

.portal-badge-card-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 1rem;
}

.portal-badge-card-icon {
  width: 64px;
  height: 64px;
  border-radius: 16px;
  background: rgb(var(--color-accent-rgb) / 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-badge-card-icon-locked {
  background: var(--color-muted);
  filter: grayscale(100%);
}

.portal-badge-card-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-foreground);
  margin-bottom: 0.5rem;
}

.portal-badge-card-title-locked {
  color: var(--color-muted-foreground);
}

.portal-badge-card-description {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  line-height: 1.5;
}

.portal-badge-card-date {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 1rem;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-badge-card-progress {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid var(--color-border);
}

.portal-badge-card-progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-badge-card-progress-hint {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
  margin-top: 0.5rem;
  font-style: italic;
}

/* ===== BADGES HERO SECTION ===== */
.portal-badges-hero {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding: 2rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 24px;
  position: relative;
  overflow: hidden;
  margin-top: 1rem;
  margin-bottom: 1.5rem;
}

@media (min-width: 768px) {
  .portal-badges-hero {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
}

.portal-badges-hero-main {
  flex: 1;
}

.portal-badges-hero-content {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  flex: 1;
}

.portal-badges-hero-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-foreground);
  letter-spacing: -0.025em;
}

.portal-badges-hero-subtitle {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  line-height: 1.5;
}

.portal-badges-hero-progress {
  margin-top: 0.5rem;
}

.portal-badges-hero-progress-bar {
  height: 8px;
  background: var(--color-muted);
  border-radius: 4px;
  overflow: hidden;
}

.portal-badges-hero-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--color-primary), var(--color-accent));
  border-radius: 4px;
  transition: width 0.5s ease;
}

.portal-badges-hero-progress-text {
  display: block;
  margin-top: 0.5rem;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
}

/* ===== BADGES TIER BREAKDOWN ===== */
.portal-badges-tier-breakdown {
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
}

/* ===== BADGES INFO SECTION ===== */
.portal-badges-info-section {
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 24px;
  padding: 2rem;
  margin-top: 2rem;
}

.portal-badges-info-header {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 0.5rem;
}

.portal-badges-info-subtitle {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  margin-bottom: 1.5rem;
}

.portal-badges-info-tiers {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.portal-badges-info-tier {
  padding: 1.25rem;
  border-radius: 16px;
  background: color-mix(in srgb, var(--color-muted) 50%, transparent);
  border: 1px solid var(--color-border);
  transition: all 0.3s ease;
}

.portal-badges-info-tier:hover {
  transform: translateY(-2px);
}

.portal-badges-info-tier-bronze {
  border-left: 4px solid rgb(205 127 50); /* bronze color */
}

.portal-badges-info-tier-silver {
  border-left: 4px solid rgb(192 192 192); /* silver color */
}

.portal-badges-info-tier-gold {
  border-left: 4px solid rgb(255 215 0); /* gold color */
}

.portal-badges-info-tier-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}

.portal-badges-info-tier-emoji {
  font-size: 1.5rem;
}

.portal-badges-info-tier-name {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-badges-info-tier-desc {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  line-height: 1.5;
}

.portal-badges-info-tip {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 1rem;
  background: rgb(var(--color-accent-rgb) / 0.05);
  border: 1px solid rgb(var(--color-accent-rgb) / 0.2);
  border-radius: 12px;
}

.portal-badges-info-tip p {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  line-height: 1.5;
}

.portal-badges-info-tip strong {
  color: var(--color-foreground);
}

/* ===== SHARED NAVIGATION ===== */
.portal-nav {
  background: var(--color-card);
  border-right: 1px solid var(--color-border);
  width: 260px;
  display: flex;
  flex-direction: column;
}

.portal-nav-header {
  padding: 1.5rem;
  border-bottom: 1px solid var(--color-border);
}

.portal-nav-brand {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.portal-nav-logo {
  width: 32px;
  height: 32px;
  background: linear-gradient(135deg, var(--color-primary), var(--color-accent));
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-nav-title {
  font-family: var(--font-sans, system-ui, -apple-system, sans-serif);
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-nav-subtitle {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-nav-menu {
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  flex: 1;
}

.portal-nav-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 12px 16px;
  border-radius: 12px;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-muted-foreground);
  transition: all 0.2s ease;
  text-decoration: none;
  min-height: 44px;
  position: relative;
  overflow: hidden;
}

.portal-nav-item:hover {
  background: var(--color-muted);
  color: var(--color-foreground);
}

.portal-nav-item.active {
  background: var(--color-primary-muted);
  color: var(--color-primary);
}

.portal-nav-icon {
  width: 18px;
  height: 18px;
  opacity: 0.7;
}

.portal-nav-item:hover .portal-nav-icon,
.portal-nav-item.active .portal-nav-icon {
  opacity: 1;
}

/* ===== FIXED TOPBAR + SIDEBAR ===== */
.portal-topbar {
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  height: var(--header-height, 64px);
  background: var(--color-popover);
  border-bottom: 1px solid var(--color-border);
  z-index: 40;
  padding: 0 var(--space-4);
}

.portal-sidebar-spacer {
  width: var(--sidebar-width, 16rem);
  flex-shrink: 0;
}

@media (min-width: 768px) {
  .portal-topbar {
    left: var(--sidebar-width, 16rem);
    padding-left: var(--space-6);
    padding-right: var(--space-6);
  }
}

.portal-sidebar-fixed {
  position: fixed;
  top: 0;
  left: 0;
  width: var(--sidebar-width, 16rem);
  height: 100vh;
  background: var(--color-popover);
  border-right: 1px solid var(--color-border);
  z-index: 30;
}

/* ===== SHARED AVATARS ===== */
.portal-avatar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 9999px;
  background: var(--color-muted);
  color: var(--color-muted-foreground);
  border: 1px solid var(--color-border);
  font-weight: 600;
  text-transform: uppercase;
}

.portal-avatar-md {
  width: 40px;
  height: 40px;
  font-size: 0.75rem;
}

/* ===== SHARED BADGES ===== */
.portal-badge {
  display: inline-flex;
  align-items: center;
  padding: 0.25rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.6875rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.portal-badge-primary {
  background: var(--color-primary-muted);
  color: var(--color-primary);
}

.portal-badge-accent {
  background: var(--color-accent-muted);
  color: var(--color-accent);
}

.portal-badge-success {
  background: var(--color-success-muted);
  color: var(--color-success);
}

.portal-badge-warning {
  background: var(--color-warning-muted);
  color: var(--color-warning);
}

.portal-badge-destructive {
  background: var(--color-destructive-muted);
  color: var(--color-destructive);
}

.portal-badge-error {
  background: var(--color-destructive-muted);
  color: var(--color-destructive);
}

.portal-badge-default {
  background: var(--color-muted);
  color: var(--color-foreground);
}

.portal-badge-info {
  background: rgb(59 130 246 / 0.15);
  color: rgb(59 130 246);
}

.portal-badge-muted {
  background: var(--color-muted);
  color: var(--color-muted-foreground);
}

/* ===== SHARED BUTTONS ===== */
.portal-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 12px 24px;
  border-radius: 12px;
  font-size: 0.875rem;
  font-weight: 500;
  min-height: 44px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  border: none;
}

.portal-btn-primary {
  background: var(--color-primary);
  color: var(--color-primary-foreground);
}

.portal-btn-primary:hover {
  background: var(--color-primary-hover);
  transform: translateY(-2px);
  box-shadow:
    0 10px 30px -5px rgb(var(--theme-glow) / 0.5),
    0 0 20px rgb(var(--theme-glow) / 0.3);
}

.portal-btn-ghost {
  background: transparent;
  color: var(--color-muted-foreground);
}

.portal-btn-ghost:hover {
  background: var(--color-muted);
  color: var(--color-foreground);
}

.portal-btn-outline {
  background: transparent;
  color: var(--color-foreground);
  border: 1px solid var(--color-border);
}

.portal-btn-outline:hover {
  background: var(--color-muted);
  border-color: var(--color-primary);
}

/* ===== SHARED SECTION ICONS ===== */
.portal-section-icon {
  width: 48px;
  height: 48px;
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.portal-section-icon svg {
  width: 24px;
  height: 24px;
  position: relative;
  z-index: 1;
}

.portal-section-icon.primary {
  background: var(--color-primary-muted);
  color: var(--color-primary);
}

.portal-section-icon.accent {
  background: var(--color-accent-muted);
  color: var(--color-accent);
}

.portal-section-icon.success {
  background: var(--color-success-muted);
  color: var(--color-success);
}

.portal-section-icon.info {
  background: var(--color-info-muted);
  color: var(--color-info);
}

.portal-section-icon.warning {
  background: color-mix(in srgb, var(--color-warning) 15%, transparent);
  color: var(--color-warning);
}

/* Semantic color variants */
.portal-section-icon.cyan {
  background: rgb(6 182 212 / 0.15); /* cyan-500 */
  color: rgb(6 182 212);
}

.portal-section-icon.violet {
  background: rgb(139 92 246 / 0.15); /* violet-500 */
  color: rgb(139 92 246);
}

.portal-section-icon.emerald {
  background: rgb(16 185 129 / 0.15); /* emerald-500 */
  color: rgb(16 185 129);
}

.portal-section-icon.amber {
  background: rgb(245 158 11 / 0.15); /* amber-500 */
  color: rgb(245 158 11);
}

.portal-section-icon.blue {
  background: rgb(59 130 246 / 0.15); /* blue-500 */
  color: rgb(59 130 246);
}

.portal-section-icon.red {
  background: rgb(239 68 68 / 0.15); /* red-500 */
  color: rgb(239 68 68);
}

/* Icon glow effect on card hover */
.portal-card-interactive:hover .portal-section-icon.primary {
  box-shadow: var(--glow-primary);
}

.portal-card-interactive:hover .portal-section-icon.accent {
  box-shadow: var(--glow-accent);
}

/* ===== STATUS INDICATOR ===== */
.portal-status-indicator {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  flex-shrink: 0;
  overflow: visible;
}

.portal-status-indicator-glow {
  position: absolute;
  width: 26px;
  height: 26px;
  border-radius: 9999px;
  background: rgb(var(--color-primary-rgb) / 0.35);
  filter: blur(4px);
  animation: portal-glow-pulse 2s ease-in-out infinite;
}

.portal-status-indicator-ring {
  position: absolute;
  width: 18px;
  height: 18px;
  border-radius: 9999px;
  border: 1px solid rgb(var(--color-primary-rgb) / 0.4);
  box-shadow: 0 0 0 1px rgb(var(--color-primary-rgb) / 0.1);
}

.portal-status-indicator-dot {
  position: relative;
  width: 8px;
  height: 8px;
  border-radius: 9999px;
  background: var(--color-primary);
  box-shadow: 0 0 8px rgb(var(--color-primary-rgb) / 0.6);
}

/* ===== SHARED ANIMATIONS ===== */

/* Progress bar animation for loading states */
@keyframes progress {
  0% {
    transform: translateX(-100%);
  }
  50% {
    transform: translateX(100%);
  }
  100% {
    transform: translateX(300%);
  }
}

@keyframes portal-fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes portal-slide-in {
  from {
    opacity: 0;
    transform: translateX(-8px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes portal-glow-pulse {
  0%, 100% {
    opacity: 0.4;
  }
  50% {
    opacity: 0.8;
  }
}

.portal-animate-in {
  animation: portal-fade-in 0.4s ease forwards;
}

.portal-animate-in-delay-1 { animation-delay: 0.05s; opacity: 0; }
.portal-animate-in-delay-2 { animation-delay: 0.1s; opacity: 0; }
.portal-animate-in-delay-3 { animation-delay: 0.15s; opacity: 0; }
.portal-animate-in-delay-4 { animation-delay: 0.2s; opacity: 0; }

/* ===== GRID BACKGROUND ===== */
.portal-grid-bg {
  position: relative;
}

.portal-grid-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgb(var(--color-border) / 0.3) 1px, transparent 1px),
    linear-gradient(90deg, rgb(var(--color-border) / 0.3) 1px, transparent 1px);
  background-size: 40px 40px;
  opacity: 0.3;
  pointer-events: none;
}

/* ===== QUICK ACTION GRID - Gradient Glow Design ===== */

/* Regular Quick Action - Vertical Layout */
.portal-quick-action {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  padding: 1.25rem 1rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 16px;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-muted-foreground);
  text-decoration: none;
  min-height: 100px;
  text-align: center;
  position: relative;
  overflow: hidden;
  transition:
    transform 0.25s cubic-bezier(0.4, 0, 0.2, 1),
    border-color 0.25s ease,
    box-shadow 0.25s ease;
}

.portal-quick-action::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    rgb(var(--color-primary-rgb) / 0.03) 0%,
    transparent 50%
  );
  opacity: 0;
  transition: opacity 0.25s ease;
}

.portal-quick-action:hover {
  transform: translateY(-4px) scale(1.02);
  border-color: rgb(var(--color-primary-rgb) / 0.4);
  box-shadow:
    0 8px 24px -8px rgb(var(--color-primary-rgb) / 0.15),
    0 0 0 1px rgb(var(--color-primary-rgb) / 0.1);
}

.portal-quick-action:hover::before {
  opacity: 1;
}

.portal-quick-action:hover .portal-quick-action-icon {
  transform: scale(1.1);
  box-shadow: 0 4px 12px -2px rgb(var(--color-primary-rgb) / 0.3);
}

.portal-quick-action:hover .portal-quick-action-label {
  color: var(--color-foreground);
}

/* Regular Quick Action Icon - Larger with gradient bg */
.portal-quick-action-icon {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  background: linear-gradient(
    135deg,
    rgb(var(--color-primary-rgb) / 0.15) 0%,
    rgb(var(--color-primary-rgb) / 0.05) 100%
  );
  display: flex;
  align-items: center;
  justify-content: center;
  transition:
    transform 0.25s cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 0.25s ease;
}

.portal-quick-action-icon svg {
  width: 22px;
  height: 22px;
  color: var(--color-primary);
  transition: color 0.2s ease;
}

/* Label styling */
.portal-quick-action-label {
  font-weight: 500;
  color: var(--color-muted-foreground);
  transition: color 0.2s ease;
  line-height: 1.3;
}

/* ===== Featured Quick Action - Horizontal with Gradient Border ===== */
.portal-quick-action-featured {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 1rem;
  padding: 1.25rem 1.5rem;
  background: var(--color-card);
  border-radius: 16px;
  font-size: 0.875rem;
  text-decoration: none;
  min-height: 80px;
  text-align: left;
  position: relative;
  overflow: hidden;
  transition:
    transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 0.3s ease;
}

/* Gradient border effect */
.portal-quick-action-featured::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 16px;
  padding: 1.5px;
  background: linear-gradient(
    135deg,
    var(--color-primary) 0%,
    rgb(var(--color-accent, var(--color-primary))) 50%,
    rgb(var(--color-primary-rgb) / 0.3) 100%
  );
  mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  mask-composite: exclude;
  -webkit-mask-composite: xor;
  opacity: 0.6;
  transition: opacity 0.3s ease;
}

/* Glow effect on hover */
.portal-quick-action-featured::after {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: 18px;
  background: linear-gradient(
    135deg,
    rgb(var(--color-primary-rgb) / 0.2) 0%,
    rgb(var(--color-accent, var(--color-primary)) / 0.1) 100%
  );
  filter: blur(12px);
  opacity: 0;
  z-index: -1;
  transition: opacity 0.3s ease;
}

.portal-quick-action-featured:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 32px -8px rgb(var(--color-primary-rgb) / 0.25);
}

.portal-quick-action-featured:hover::before {
  opacity: 1;
}

.portal-quick-action-featured:hover::after {
  opacity: 1;
}

/* Featured Icon - Larger */
.portal-quick-action-featured .portal-quick-action-icon {
  width: 52px;
  height: 52px;
  border-radius: 14px;
  background: linear-gradient(
    135deg,
    rgb(var(--color-primary-rgb) / 0.2) 0%,
    rgb(var(--color-primary-rgb) / 0.08) 100%
  );
  flex-shrink: 0;
}

.portal-quick-action-featured .portal-quick-action-icon svg {
  width: 26px;
  height: 26px;
}

/* Featured Content */
.portal-quick-action-featured-content {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.portal-quick-action-featured-title {
  font-size: 0.9375rem;
  font-weight: 600;
  color: var(--color-foreground);
  line-height: 1.3;
}

.portal-quick-action-featured-description {
  font-size: 0.8125rem;
  color: var(--color-muted-foreground);
  line-height: 1.4;
}

/* Featured Arrow */
.portal-quick-action-featured-arrow {
  width: 24px;
  height: 24px;
  color: var(--color-muted-foreground);
  flex-shrink: 0;
  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.portal-quick-action-featured:hover .portal-quick-action-featured-arrow {
  transform: translateX(4px);
  color: var(--color-primary);
}

/* ===== Icon Color Variants ===== */
.portal-quick-action-icon.violet {
  background: linear-gradient(135deg, rgb(139 92 246 / 0.2) 0%, rgb(139 92 246 / 0.08) 100%);
}
.portal-quick-action-icon.violet svg {
  color: rgb(139 92 246);
}

.portal-quick-action-icon.cyan {
  background: linear-gradient(135deg, rgb(6 182 212 / 0.2) 0%, rgb(6 182 212 / 0.08) 100%);
}
.portal-quick-action-icon.cyan svg {
  color: rgb(6 182 212);
}

.portal-quick-action-icon.emerald {
  background: linear-gradient(135deg, rgb(16 185 129 / 0.2) 0%, rgb(16 185 129 / 0.08) 100%);
}
.portal-quick-action-icon.emerald svg {
  color: rgb(16 185 129);
}

.portal-quick-action-icon.amber {
  background: linear-gradient(135deg, rgb(245 158 11 / 0.2) 0%, rgb(245 158 11 / 0.08) 100%);
}
.portal-quick-action-icon.amber svg {
  color: rgb(245 158 11);
}

.portal-quick-action-icon.blue {
  background: linear-gradient(135deg, rgb(59 130 246 / 0.2) 0%, rgb(59 130 246 / 0.08) 100%);
}
.portal-quick-action-icon.blue svg {
  color: rgb(59 130 246);
}

.portal-quick-action-icon.rose {
  background: linear-gradient(135deg, rgb(244 63 94 / 0.2) 0%, rgb(244 63 94 / 0.08) 100%);
}
.portal-quick-action-icon.rose svg {
  color: rgb(244 63 94);
}

/* ===== GLASSMORPHISM ===== */

/* Glass card */
.portal-glass-card {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  border-radius: 24px;
  box-shadow: var(--shadow-md);
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.portal-glass-card::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  border: 1px solid var(--glass-highlight);
  pointer-events: none;
}

.portal-glass-card:hover {
  transform: translateY(-8px);
  border-color: rgb(var(--color-primary-rgb) / 0.25);
  box-shadow:
    0 32px 64px -16px rgba(0, 0, 0, 0.2),
    0 0 0 1px rgb(var(--theme-glow) / 0.1);
}

/* Muted backgrounds get subtle glass effect in themed contexts */
.ui-theme-admin .bg-muted,
.ui-theme-creator .bg-muted,
.ui-theme-student .bg-muted,
.ui-theme-admin [class*="bg-muted\/"],
.ui-theme-creator [class*="bg-muted\/"],
.ui-theme-student [class*="bg-muted\/"] {
  background: var(--glass-highlight) !important;
}

/* Exception: Table elements should not inherit glass-highlight from hover/muted classes */
/* Using higher specificity to override [class*="bg-muted/"] selector */
.ui-theme-admin table tbody tr[class],
.ui-theme-creator table tbody tr[class],
.ui-theme-student table tbody tr[class] {
  background: transparent !important;
}

.ui-theme-admin table tbody tr[class]:hover,
.ui-theme-creator table tbody tr[class]:hover,
.ui-theme-student table tbody tr[class]:hover {
  background: var(--glass-highlight) !important;
}

/* Table header: transparent in dark mode to match rows */
.ui-theme-admin table thead[class],
.ui-theme-creator table thead[class],
.ui-theme-student table thead[class] {
  background: transparent !important;
}

/* ===== CHAT COMPONENTS ===== */
.portal-chat {
  display: flex;
  flex-direction: column;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 24px;
  overflow: hidden;
}

.portal-chat-inline {
  background: transparent;
  border: none;
  border-radius: 0;
}

.portal-chat-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 1rem 1.5rem;
  background: var(--color-card);
  border-bottom: 1px solid var(--color-border);
}

.portal-chat-header-main {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.portal-chat-header-leading {
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-chat-header-text {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.portal-chat-header-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-chat-header-description {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
}

.portal-chat-header-actions {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.portal-chat-header-status {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-muted-foreground);
}

.portal-chat-header-action {
  display: flex;
  align-items: center;
}

.portal-chat-messages {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  padding: 1.5rem;
  background: var(--color-background);
  overflow-y: auto;
  flex: 1 1 auto;
  min-height: 0;
  scrollbar-gutter: stable both-edges;
  overscroll-behavior: contain;
}

.portal-chat-message {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
}

.portal-chat-message-assistant {
  justify-content: flex-start;
}

.portal-chat-message-user {
  justify-content: flex-end;
  flex-direction: row-reverse;
}

.portal-chat-message-system {
  justify-content: center;
  align-items: center;
}

.portal-chat-message-body {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  max-width: min(80%, 640px);
  min-width: 0;
}

.portal-chat-message-body-assistant {
  align-items: flex-start;
  text-align: left;
}

.portal-chat-message-body-user {
  align-items: flex-end;
  text-align: right;
}

.portal-chat-message-body-system {
  align-items: center;
  text-align: center;
  max-width: min(70%, 520px);
}

.portal-chat-message-user .portal-chat-bubble-content {
  white-space: pre-wrap;
}

.portal-chat-avatar {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.portal-chat-avatar-badge {
  width: 32px;
  height: 32px;
  border-radius: 9999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  color: var(--color-foreground);
}

.portal-chat-avatar-badge-assistant {
  background: var(--color-primary);
}

.portal-chat-avatar-badge-user {
  background: var(--color-accent);
}

.portal-chat-avatar-fallback {
  background: linear-gradient(
    135deg,
    var(--color-primary),
    var(--color-accent)
  );
  color: var(--color-foreground);
  font-weight: 600;
}

.portal-chat-message-author {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-muted-foreground);
}

.portal-chat-bubble {
  position: relative;
  padding: 0.75rem 1rem;
  border-radius: 16px;
  border: 1px solid var(--color-border);
  background: var(--color-card);
  color: var(--color-foreground);
  box-shadow: var(--shadow-sm);
}

.portal-chat-bubble-assistant {
  background: var(--color-card);
}

.portal-chat-bubble-user {
  background: rgb(var(--color-primary-rgb) / 0.12);
  border-color: rgb(var(--color-primary-rgb) / 0.2);
}

.portal-chat-bubble-system {
  background: var(--color-muted);
  border-style: dashed;
  box-shadow: none;
}

.portal-chat-bubble-streaming {
  border-color: rgb(var(--color-primary-rgb) / 0.25);
  box-shadow: 0 10px 24px -18px rgb(var(--color-primary-rgb) / 0.35);
}

.portal-chat-bubble-content {
  font-size: 0.9375rem;
  line-height: 1.6;
  color: var(--color-foreground);
  word-break: break-word;
  text-wrap: pretty;
}

.portal-chat-markdown h1,
.portal-chat-markdown h2 {
  font-size: 0.95rem;
  font-weight: 600;
  margin: 0 0 0.5rem;
}

.portal-chat-markdown h3 {
  font-size: 0.9rem;
  font-weight: 600;
  margin: 0 0 0.4rem;
}

.portal-chat-markdown p {
  margin: 0 0 0.5rem;
}

.portal-chat-markdown p:last-child {
  margin-bottom: 0;
}

.portal-chat-markdown ul,
.portal-chat-markdown ol {
  margin: 0.5rem 0;
  padding-left: 1.25rem;
}

.portal-chat-markdown li {
  margin: 0.25rem 0;
}

.portal-chat-markdown strong {
  font-weight: 600;
}

.portal-chat-markdown em {
  font-style: italic;
}

.portal-chat-markdown a {
  color: var(--color-primary);
  text-decoration: none;
}

.portal-chat-markdown a:hover {
  text-decoration: underline;
}

.portal-chat-markdown pre {
  margin: 0.75rem 0;
  padding: 0.75rem;
  border-radius: 12px;
  background: var(--color-muted);
  border: 1px solid var(--color-border);
  overflow-x: auto;
}

.portal-chat-markdown pre code {
  display: block;
  background: transparent;
  border: none;
  padding: 0;
  font-size: 0.85rem;
}

.portal-chat-markdown code {
  font-family: var(--font-mono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);
}

.portal-chat-markdown :not(pre) > code {
  background: var(--color-muted);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 0.1rem 0.3rem;
  font-size: 0.85rem;
}

.portal-chat-markdown blockquote {
  margin: 0.75rem 0;
  padding-left: 0.75rem;
  border-left: 2px solid var(--color-primary);
  color: var(--color-muted-foreground);
  font-style: italic;
}

.portal-chat-markdown hr {
  border: 0;
  border-top: 1px solid var(--color-border);
  margin: 0.75rem 0;
}

.portal-chat-meta {
  display: flex;
  gap: 0.5rem;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
  font-variant-numeric: tabular-nums;
}

.portal-chat-meta-assistant {
  justify-content: flex-start;
}

.portal-chat-meta-user {
  justify-content: flex-end;
}

.portal-chat-meta-system {
  justify-content: center;
}

.portal-chat-footer {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.portal-chat-cursor {
  display: inline-block;
  width: 2px;
  height: 1.1em;
  margin-left: 2px;
  background: var(--color-primary);
  animation: portal-chat-blink 1s step-end infinite;
  vertical-align: -0.1em;
}

.portal-chat-typing {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--color-muted-foreground);
  font-size: 0.875rem;
}

.portal-chat-typing-dots {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
}

.portal-chat-typing-dot {
  width: 6px;
  height: 6px;
  border-radius: 9999px;
  background: var(--color-muted-foreground);
  animation: portal-chat-typing 1s ease-in-out infinite;
}

.portal-chat-typing-dot:nth-child(2) {
  animation-delay: 0.15s;
}

.portal-chat-typing-dot:nth-child(3) {
  animation-delay: 0.3s;
}

.portal-chat-typing-label {
  font-weight: 500;
  color: var(--color-muted-foreground);
}

.portal-chat-composer {
  display: flex;
  align-items: flex-end;
  gap: 0.75rem;
  padding: 1rem 1.5rem;
  border-top: 1px solid var(--color-border);
  background: var(--color-card);
}

.portal-chat-messages-compact {
  max-height: 320px;
  padding-right: 0.5rem;
}

.portal-chat-empty-icon {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  background: var(--color-muted);
  color: var(--color-muted-foreground);
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-chat-empty-title {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-chat-empty-description {
  font-size: 0.85rem;
  color: var(--color-muted-foreground);
  text-align: center;
  max-width: 320px;
}

.portal-chat-skeleton-row {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
}

.portal-chat-skeleton-row-user {
  justify-content: flex-end;
}

.portal-chat-skeleton-avatar {
  width: 32px;
  height: 32px;
  border-radius: 9999px;
}

.portal-chat-skeleton-bubble {
  height: 42px;
  width: 70%;
  border-radius: 16px;
}

.portal-chat-skeleton-bubble-user {
  width: 60%;
}

.portal-chat-skeleton-bubble-short {
  width: 45%;
}

@keyframes portal-chat-blink {
  0%,
  49% {
    opacity: 1;
  }
  50%,
  100% {
    opacity: 0;
  }
}

@keyframes portal-chat-typing {
  0%,
  80%,
  100% {
    transform: translateY(0);
    opacity: 0.6;
  }
  40% {
    transform: translateY(-3px);
    opacity: 1;
  }
}

@media (max-width: 640px) {
  .portal-chat-header,
  .portal-chat-composer {
    padding: 0.75rem 1rem;
  }

  .portal-chat-messages {
    padding: 1rem;
    gap: 0.75rem;
  }

  .portal-chat-message-body,
  .portal-chat-message-body-system {
    max-width: 100%;
  }

  .portal-chat-bubble {
    padding: 0.65rem 0.85rem;
  }
}

/* ===== PROFILE PAGE COMPONENTS ===== */
/* Profile input field */
.portal-profile-input {
  width: 100%;
  padding: 0.75rem 1rem;
  background: var(--input-bg, var(--surface-elevated));
  border: 1px solid var(--input-border, var(--border-default));
  border-radius: var(--input-radius, 0.5rem);
  color: var(--input-text, var(--text-primary));
  font-size: 0.875rem;
  line-height: 1.5;
  transition: all 0.15s ease;
}

.portal-profile-input:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgb(var(--color-primary-rgb) / 0.1);
}

.portal-profile-input::placeholder {
  color: var(--input-placeholder, var(--text-tertiary));
}

.portal-profile-input:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  background: var(--input-disabled-bg, var(--surface-default));
}

/* Profile textarea */
.portal-profile-textarea {
  min-height: 100px;
  resize: vertical;
}

/* Profile field container */
.portal-profile-field {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.portal-profile-field-label {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--text-primary);
}

.portal-profile-field-required {
  color: rgb(var(--color-destructive, 239 68 68));
}

.portal-profile-field-count {
  font-size: 0.75rem;
  color: var(--text-tertiary);
  margin-left: 0.5rem;
}

/* Profile completion ring */
.portal-profile-completion {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-profile-completion-bg {
  fill: none;
  stroke: var(--surface-default);
  stroke-width: 4;
}

.portal-profile-completion-fill {
  fill: none;
  stroke: var(--color-primary);
  stroke-width: 4;
  stroke-linecap: round;
  transform: rotate(-90deg);
  transform-origin: center;
  transition: stroke-dashoffset 0.5s ease;
}

.portal-profile-completion-content {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.portal-profile-completion-value {
  font-size: 1rem;
  font-weight: 600;
  color: var(--text-primary);
}

/* Radial progress */
.portal-radial-progress {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  --portal-radial-stroke: 16px;
}

.portal-radial-progress-bg {
  fill: none;
  stroke: rgb(var(--color-border) / 0.6);
  stroke-width: var(--portal-radial-stroke);
}

.portal-radial-progress-fill {
  fill: none;
  stroke: var(--color-primary);
  stroke-width: var(--portal-radial-stroke);
  stroke-linecap: round;
  transform: rotate(-90deg);
  transform-origin: center;
  transition: stroke-dashoffset 0.5s ease;
}

.portal-radial-progress-fill-accent {
  stroke: var(--color-accent);
}

.portal-radial-progress-accent .portal-radial-progress-fill {
  stroke: var(--color-accent);
}

.portal-radial-progress-accent .portal-radial-progress-value {
  color: var(--color-accent);
}

.portal-radial-progress-content {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.125rem;
  text-align: center;
}

.portal-radial-progress-value {
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-radial-progress-label {
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-muted-foreground);
}

/* Social links input */
.portal-profile-social-links {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.portal-profile-social-input {
  display: flex;
  align-items: center;
  gap: 0;
}

.portal-profile-social-input .portal-profile-input {
  flex: 1;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
}

.portal-profile-social-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2.5rem;
  height: 2.75rem;
  background: var(--surface-default);
  border: 1px solid var(--border-default);
  border-right: none;
  border-radius: var(--input-radius, 0.5rem) 0 0 var(--input-radius, 0.5rem);
  color: var(--text-secondary);
}

.portal-profile-social-linkedin { color: #0A66C2; }
.portal-profile-social-youtube { color: #FF0000; }
.portal-profile-social-github { color: var(--text-primary); }
.portal-profile-social-website { color: var(--color-primary); }

/* Profile actions and layout */
.portal-profile-view-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  border-radius: 10px;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  color: var(--color-foreground);
  font-size: 0.75rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.portal-profile-view-btn:hover {
  border-color: rgb(var(--color-primary-rgb) / 0.4);
  color: var(--color-primary);
  box-shadow: 0 8px 16px -12px rgb(var(--color-primary-rgb) / 0.4);
}

.portal-profile-completion-banner {
  display: flex;
  align-items: center;
  gap: 1.25rem;
  padding: 1rem 1.5rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 20px;
  flex-wrap: wrap;
}

.portal-profile-completion-info {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  flex: 1;
  min-width: 200px;
}

.portal-profile-completion-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-profile-completion-desc {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-profile-completion-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.375rem 0.75rem;
  border-radius: 9999px;
  background: rgb(var(--color-accent-rgb) / 0.12);
  color: var(--color-accent);
  border: 1px solid rgb(var(--color-accent-rgb) / 0.2);
  font-size: 0.75rem;
  font-weight: 600;
}

.portal-profile-photo-section,
.portal-profile-fields-section {
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 20px;
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.portal-profile-section-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-profile-fields {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.portal-profile-photo-wrapper {
  display: flex;
  justify-content: center;
}

.portal-profile-photo-container {
  position: relative;
  width: 160px;
  height: 160px;
  border-radius: 24px;
  overflow: hidden;
  border: 1px solid var(--color-border);
  background: var(--color-muted);
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-profile-photo-container.portal-profile-photo-uploading {
  border-color: rgb(var(--color-primary-rgb) / 0.6);
  box-shadow: 0 0 0 3px rgb(var(--color-primary-rgb) / 0.2);
}

.portal-profile-photo-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.portal-profile-photo-glow {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 50% 20%, rgb(var(--color-primary-rgb) / 0.35), transparent 60%);
  opacity: 0.4;
  pointer-events: none;
}

.portal-profile-photo-hover {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;
  background: rgb(var(--color-background) / 0.6);
  color: var(--color-foreground);
  font-size: 0.75rem;
  opacity: 0;
  transition: opacity 0.2s ease;
  cursor: pointer;
}

.portal-profile-photo-container:hover .portal-profile-photo-hover {
  opacity: 1;
}

.portal-profile-photo-loading {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgb(var(--color-background) / 0.6);
  color: var(--color-foreground);
}

.portal-profile-upload-progress {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-profile-upload-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  border-radius: 10px;
  background: rgb(var(--color-primary-rgb) / 0.12);
  color: var(--color-primary);
  border: 1px solid rgb(var(--color-primary-rgb) / 0.3);
  font-size: 0.75rem;
  font-weight: 600;
  transition: all 0.2s ease;
  width: fit-content;
}

.portal-profile-upload-btn:hover {
  background: rgb(var(--color-primary-rgb) / 0.2);
  border-color: rgb(var(--color-primary-rgb) / 0.5);
}

.portal-profile-upload-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.portal-profile-dropzone {
  border: 1px dashed var(--color-border);
  background: rgb(var(--color-muted) / 0.3);
  border-radius: 16px;
  padding: 1rem;
  text-align: center;
  color: var(--color-muted-foreground);
  transition: all 0.2s ease;
}

.portal-profile-dropzone-active {
  border-color: rgb(var(--color-primary-rgb) / 0.6);
  background: rgb(var(--color-primary-rgb) / 0.08);
  color: var(--color-primary);
}

.portal-profile-dropzone-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.75rem;
}

.portal-profile-dropzone-content span {
  font-size: 0.625rem;
}

.portal-profile-select {
  width: 100%;
  padding: 0.75rem 1rem;
  background: var(--input-bg, var(--surface-elevated));
  border: 1px solid var(--input-border, var(--border-default));
  border-radius: var(--input-radius, 0.5rem);
  color: var(--input-text, var(--text-primary));
  font-size: 0.875rem;
  line-height: 1.5;
  appearance: none;
  transition: all 0.15s ease;
}

.portal-profile-select:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgb(var(--color-primary-rgb) / 0.1);
}

.portal-profile-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  flex-wrap: wrap;
  padding: 1rem 1.5rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 20px;
}

.portal-profile-actions-hint {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-profile-actions-buttons {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.portal-profile-cancel-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 0.9rem;
  border-radius: 10px;
  border: 1px solid var(--color-border);
  background: transparent;
  color: var(--color-muted-foreground);
  font-size: 0.75rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.portal-profile-cancel-btn:hover {
  border-color: rgb(var(--color-muted-foreground) / 0.5);
  color: var(--color-foreground);
}

.portal-profile-save-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.5rem 0.9rem;
  border-radius: 10px;
  border: 1px solid var(--color-primary);
  background: var(--color-primary);
  color: var(--color-primary-foreground);
  font-size: 0.75rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.portal-profile-save-btn [data-role="spinner"] {
  display: none;
  align-items: center;
}

.portal-profile-save-btn [data-role="icon"] {
  display: inline-flex;
  align-items: center;
}

.portal-profile-save-btn[data-loading="true"] [data-role="spinner"] {
  display: inline-flex;
}

.portal-profile-save-btn[data-loading="true"] [data-role="icon"] {
  display: none;
}

.portal-profile-save-btn:hover {
  background: var(--color-primary-hover, var(--color-primary));
  border-color: var(--color-primary-hover, var(--color-primary));
}

.portal-profile-save-btn:disabled,
.portal-profile-cancel-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
  .portal-nav {
    display: none;
  }

  .portal-stat-value {
    font-size: 1.5rem;
  }
}

/* ===== DASH COMPONENT CLASSES (Student Dashboard) ===== */

/* Animations */
.portal-animate-in {
  animation: portal-fade-in 0.4s ease forwards;
}

.portal-animate-in-delay-1 { animation-delay: 0.05s; opacity: 0; }
.portal-animate-in-delay-2 { animation-delay: 0.1s; opacity: 0; }
.portal-animate-in-delay-3 { animation-delay: 0.15s; opacity: 0; }
.portal-animate-in-delay-4 { animation-delay: 0.2s; opacity: 0; }
.portal-animate-in-delay-5 { animation-delay: 0.25s; opacity: 0; }
.portal-animate-in-delay-8 { animation-delay: 0.4s; opacity: 0; }

/* Staggered Grid Animation - applies delays via :nth-child */
.portal-staggered-grid > * {
  animation: portal-fade-in 0.4s ease forwards;
  opacity: 0;
}
.portal-staggered-grid > *:nth-child(1) { animation-delay: 0.05s; }
.portal-staggered-grid > *:nth-child(2) { animation-delay: 0.1s; }
.portal-staggered-grid > *:nth-child(3) { animation-delay: 0.15s; }
.portal-staggered-grid > *:nth-child(4) { animation-delay: 0.2s; }
.portal-staggered-grid > *:nth-child(5) { animation-delay: 0.25s; }
.portal-staggered-grid > *:nth-child(n+6) { animation-delay: 0.3s; }

/* Animation Variants for PageGrid */
@keyframes portal-scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes portal-slide-up {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.portal-animate-fade {
  animation: portal-fade-in 0.4s ease forwards;
}

.portal-animate-slide-up {
  animation: portal-slide-up 0.4s ease forwards;
}

.portal-animate-scale {
  animation: portal-scale-in 0.3s ease forwards;
}

/* Headings */
.portal-heading {
  font-family: var(--font-sans, system-ui, -apple-system, sans-serif);
  font-weight: 600;
  letter-spacing: -0.025em;
  color: var(--color-foreground);
}

.portal-heading-xl { font-size: 2rem; line-height: 1.2; }
.portal-heading-lg { font-size: 1.5rem; line-height: 1.3; }
.portal-heading-md { font-size: 1.125rem; line-height: 1.4; }
.portal-heading-sm { font-size: 1rem; line-height: 1.5; }

/* Live Stats Bar */
.portal-live-stats-bar {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 1rem 1.5rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 16px;
  margin-top: 1rem;
  margin-bottom: 1.5rem;
}

.portal-live-stats-label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.portal-live-stats-items {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  flex-wrap: wrap;
}

.portal-live-stats-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
}

.portal-live-stats-item-value {
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  font-size: 1.25rem;
  font-weight: 600;
}

.portal-live-stats-item-label {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-live-stat-divider {
  width: 1px;
  height: 24px;
  background: var(--color-border);
}

/* Stat Components */
.portal-stat {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.portal-stat-value {
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  font-size: 2rem;
  font-weight: 600;
  color: var(--color-foreground);
  line-height: 1;
}

.portal-stat-label {
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-muted-foreground);
}

.portal-stat-badge {
  font-size: 0.625rem;
  padding: 0.25rem 0.5rem;
}

/* Course Grid */
.portal-course-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1rem;
}

.portal-course-card {
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 16px;
  overflow: hidden;
  transition: all 0.3s ease;
  display: flex;
  flex-direction: column;
}

.portal-course-card:hover {
  transform: translateY(-4px);
  border-color: rgb(var(--color-primary-rgb) / 0.3);
  box-shadow: 0 12px 24px -8px rgba(0, 0, 0, 0.2);
}

.portal-course-thumbnail {
  position: relative;
  height: 140px;
  background: var(--color-muted);
  overflow: hidden;
}

.portal-course-thumbnail-gradient {
  position: absolute;
  inset: 0;
  opacity: 0.8;
}

.portal-thumbnail-react {
  background:
    radial-gradient(120% 120% at 0% 0%, rgb(var(--color-accent-rgb) / 0.45), transparent 60%),
    linear-gradient(135deg, rgb(var(--color-info) / 0.9), rgb(var(--color-accent-rgb) / 0.9));
}

.portal-thumbnail-typescript {
  background:
    radial-gradient(120% 120% at 100% 0%, rgb(var(--color-info) / 0.45), transparent 60%),
    linear-gradient(135deg, rgb(var(--color-info) / 0.9), rgb(var(--color-primary-rgb) / 0.85));
}

.portal-thumbnail-node {
  background:
    radial-gradient(120% 120% at 0% 100%, rgb(var(--color-success) / 0.45), transparent 60%),
    linear-gradient(135deg, rgb(var(--color-success) / 0.9), rgb(var(--color-primary-rgb) / 0.9));
}

.portal-thumbnail-default {
  background:
    radial-gradient(120% 120% at 0% 0%, rgb(var(--color-primary-rgb) / 0.35), transparent 60%),
    linear-gradient(135deg, rgb(var(--color-primary-rgb) / 0.6), rgb(var(--color-accent-rgb) / 0.6));
}

.portal-course-thumbnail-placeholder {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 3rem;
}

.portal-course-progress-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 0.5rem;
  background: linear-gradient(to top, rgba(0,0,0,0.5), transparent);
}

.portal-course-progress-ring {
  position: relative;
  width: 52px;
  height: 52px;
  border-radius: 9999px;
  background: rgb(var(--color-background) / 0.6);
  border: 1px solid rgb(var(--color-border) / 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(6px);
  color: var(--color-foreground);
}

.portal-course-progress-ring.completed {
  border-color: rgb(var(--color-accent-rgb) / 0.5);
  box-shadow: 0 0 0 2px rgb(var(--color-accent-rgb) / 0.2);
}

.portal-course-body {
  padding: 1rem;
}

.portal-course-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-foreground);
  margin-bottom: 0.25rem;
  line-height: 1.4;
}

.portal-course-creator {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-course-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-top: 1px solid var(--color-border);
  margin-top: 1rem;
  padding-top: 1rem;
}

.portal-course-progress-text {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-primary);
}

.portal-featured-badge {
  position: absolute;
  top: 0.75rem;
  left: 0.75rem;
  display: flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.5rem;
  background: var(--color-primary);
  color: var(--color-primary-foreground);
  border-radius: 6px;
  font-size: 0.625rem;
  font-weight: 600;
  text-transform: uppercase;
}

/* Progress Bars */
.portal-progress {
  height: 6px;
  background: var(--color-muted);
  border-radius: 3px;
  overflow: hidden;
}

.portal-progress-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--color-primary), var(--color-primary-hover));
  border-radius: 3px;
  transition: width 0.5s ease;
}

.portal-progress-bar-shimmer {
  position: relative;
}

.portal-progress-bar-shimmer::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

@keyframes progress {
  0% { transform: translateX(-100%); }
  50% { transform: translateX(200%); }
  100% { transform: translateX(400%); }
}

.portal-progress-accent {
  background: linear-gradient(90deg, var(--color-accent), var(--color-accent-hover));
}

/* Two Column Layout */
.portal-two-col-asymmetric {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
  margin-top: 1.5rem;
}

@media (min-width: 1024px) {
  .portal-two-col-asymmetric {
    grid-template-columns: 1fr 1fr;
  }
}

/* Activity Items */
.portal-activity-item {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 0.75rem 0;
  border-bottom: 1px solid var(--color-border);
  /* Mobile: wrap content */
  flex-wrap: wrap;
}

@media (min-width: 640px) {
  .portal-activity-item {
    align-items: center;
    flex-wrap: nowrap;
  }
}

.portal-activity-item:last-child {
  border-bottom: none;
}

.portal-activity-icon {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  background: color-mix(in srgb, var(--color-success) 10%, transparent);
  color: var(--color-success);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.portal-activity-icon svg {
  width: 16px;
  height: 16px;
}

.portal-activity-content {
  flex: 1;
  min-width: 0;
}

.portal-activity-title {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-foreground);
  /* Mobile: allow wrapping */
  word-break: break-word;
}

@media (min-width: 640px) {
  .portal-activity-title {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    word-break: normal;
  }
}

.portal-activity-subtitle {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-activity-time {
  font-size: 0.6875rem;
  color: var(--color-muted-foreground);
  white-space: nowrap;
  /* Mobile: full width below content */
  width: 100%;
  padding-left: calc(32px + 0.75rem); /* icon width + gap */
  margin-top: -0.25rem;
}

@media (min-width: 640px) {
  .portal-activity-time {
    font-size: 0.75rem;
    width: auto;
    padding-left: 0;
    margin-top: 0;
  }
}

/* Next Actions */
.portal-next-action {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  background: color-mix(in srgb, var(--color-muted) 50%, transparent);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  transition: all 0.2s ease;
  text-decoration: none;
}

.portal-next-action:hover {
  background: var(--color-muted);
  border-color: rgb(var(--color-primary-rgb) / 0.3);
}

.portal-next-action-icon {
  width: 36px;
  height: 36px;
  border-radius: 10px;
  background: rgb(var(--color-accent-rgb) / 0.1);
  color: var(--color-accent);
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-next-action-icon svg {
  width: 18px;
  height: 18px;
}

.portal-next-action-content {
  flex: 1;
  min-width: 0;
}

.portal-next-action-title {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-foreground);
}

.portal-next-action-meta {
  display: flex;
  gap: 0.75rem;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

/* Empty State */
.portal-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 3rem 1.5rem;
  background: var(--color-card);
  border: 1px dashed var(--color-border);
  border-radius: 24px;
}

.portal-empty-state-icon {
  width: 80px;
  height: 80px;
  border-radius: 20px;
  background: var(--color-muted);
  color: var(--color-muted-foreground);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1.5rem;
}

.portal-empty-state-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-foreground);
  margin-bottom: 0.5rem;
}

.portal-empty-state-description {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  max-width: 300px;
}

/* Alerts */
.portal-alert {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 1rem;
  border-radius: 12px;
  margin-bottom: 1rem;
}

.portal-alert-destructive {
  background: rgb(var(--color-destructive) / 0.1);
  border: 1px solid rgb(var(--color-destructive) / 0.3);
}

.portal-alert-warning {
  background: color-mix(in srgb, var(--color-warning) 10%, transparent);
  border: 1px solid rgb(var(--color-warning) / 0.3);
}

.portal-alert-icon {
  flex-shrink: 0;
}

.portal-alert-destructive .portal-alert-icon {
  color: var(--color-destructive);
}

.portal-alert-warning .portal-alert-icon {
  color: var(--color-warning);
}

.portal-alert-content {
  flex: 1;
}

.portal-alert-title {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-alert-description {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
  margin-top: 0.25rem;
}

/* Streak Animation */
.portal-streak-animated {
  position: relative;
}

.portal-streak-animated::after {
  content: '';
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background: linear-gradient(45deg, rgb(245 158 11 / 0.3), transparent, rgb(245 158 11 / 0.3));
  animation: streak-glow 2s ease-in-out infinite;
  pointer-events: none;
}

@keyframes streak-glow {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

/* =============================================================================
   ACHIEVEMENTS PAGE
   ============================================================================= */

.portal-achievements-hero {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding: 2rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 24px;
  position: relative;
  overflow: hidden;
}

.portal-achievements-hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse 80% 50% at 20% 30%, rgb(var(--theme-glow) / 0.2), transparent 60%);
  opacity: 0.2;
  pointer-events: none;
}

@media (min-width: 768px) {
  .portal-achievements-hero {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
}

.portal-achievements-hero-content {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  flex: 1;
  position: relative;
}

.portal-achievements-hero-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-foreground);
  letter-spacing: -0.02em;
}

.portal-achievements-hero-subtitle {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  line-height: 1.5;
}

.portal-achievements-stats {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 1rem;
  padding: 1rem 1.5rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 20px;
}

.portal-achievements-stat {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  min-width: 150px;
}

.portal-achievements-stat-icon {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  background: var(--color-muted);
  color: var(--color-muted-foreground);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.portal-achievements-stat-icon-unlocked {
  background: rgb(var(--color-accent-rgb) / 0.15);
  color: var(--color-accent);
}

.portal-achievements-stat-icon-locked {
  background: rgb(var(--color-muted) / 0.7);
  color: var(--color-muted-foreground);
}

.portal-achievements-stat-icon-streak {
  background: color-mix(in srgb, var(--color-warning) 15%, transparent);
  color: var(--color-warning);
}

.portal-achievements-stat-icon-record {
  background: rgb(var(--color-primary-rgb) / 0.15);
  color: var(--color-primary);
}

.portal-achievements-stat-content {
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
}

.portal-achievements-stat-value {
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-achievements-stat-label {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-muted-foreground);
}

.portal-achievements-stat-divider {
  width: 1px;
  height: 28px;
  background: var(--color-border);
}

.portal-streak-card {
  position: relative;
  display: flex;
  align-items: center;
  gap: 1.5rem;
  padding: 1.5rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 24px;
  overflow: hidden;
  flex-wrap: wrap;
}

.portal-streak-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 20% 20%, rgb(var(--color-warning) / 0.18), transparent 60%);
  opacity: 0.2;
  pointer-events: none;
}

.portal-streak-card-flame {
  width: 56px;
  height: 56px;
  border-radius: 16px;
  background: color-mix(in srgb, var(--color-warning) 15%, transparent);
  color: var(--color-warning);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  box-shadow: 0 8px 20px -12px rgb(var(--color-warning) / 0.4);
}

.portal-streak-card-content {
  flex: 1;
  min-width: 200px;
  position: relative;
}

.portal-streak-card-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-streak-card-subtitle {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
  margin-top: 0.25rem;
}

.portal-streak-card-stats {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.75rem 1rem;
  border-radius: 14px;
  background: rgb(var(--color-muted) / 0.4);
  border: 1px solid var(--color-border);
}

.portal-streak-card-stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  min-width: 80px;
}

.portal-streak-card-divider {
  width: 1px;
  height: 32px;
  background: var(--color-border);
}

.portal-streak-card-stat-label {
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-muted-foreground);
}

.portal-streak-card-stat-value {
  font-size: 1.25rem;
  font-weight: 600;
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  color: var(--color-foreground);
  display: inline-flex;
  align-items: baseline;
  gap: 0.25rem;
}

.portal-streak-card-stat-value-current {
  color: var(--color-warning);
}

.portal-streak-card-stat-unit {
  font-size: 0.65rem;
  color: var(--color-muted-foreground);
}

.portal-next-badge {
  position: relative;
  padding: 1.5rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 24px;
  overflow: hidden;
}

.portal-next-badge::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 80% 20%, rgb(var(--color-accent-rgb) / 0.18), transparent 60%);
  opacity: 0.2;
  pointer-events: none;
}

.portal-next-badge-label {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.25rem 0.5rem;
  border-radius: 9999px;
  background: rgb(var(--color-accent-rgb) / 0.12);
  border: 1px solid rgb(var(--color-accent-rgb) / 0.25);
  color: var(--color-accent);
  font-size: 0.6875rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 1rem;
  position: relative;
}

.portal-next-badge-content {
  display: flex;
  align-items: center;
  gap: 1.25rem;
  flex-wrap: wrap;
  position: relative;
}

.portal-next-badge-icon {
  width: 72px;
  height: 72px;
  border-radius: 20px;
  background: rgb(var(--color-muted) / 0.6);
  border: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.portal-next-badge-info {
  flex: 1;
  min-width: 200px;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.portal-next-badge-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-next-badge-description {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
}

.portal-next-badge-progress {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.portal-next-badge-progress-bar {
  height: 8px;
  background: var(--color-muted);
  border-radius: 9999px;
  overflow: hidden;
}

.portal-next-badge-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--color-accent), var(--color-primary));
  border-radius: 9999px;
  transition: width 0.5s ease;
}

.portal-next-badge-progress-text {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
}

/* =============================================================================
   SESSIONS PAGE
   ============================================================================= */

.portal-session-stats {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 1rem;
  padding: 1rem 1.5rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 20px;
}

.portal-session-stat {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  min-width: 150px;
}

.portal-session-stat-icon {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  background: var(--color-muted);
  color: var(--color-muted-foreground);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.portal-session-stat-icon-upcoming {
  background: rgb(var(--color-primary-rgb) / 0.15);
  color: var(--color-primary);
}

.portal-session-stat-icon-completed {
  background: color-mix(in srgb, var(--color-success) 15%, transparent);
  color: var(--color-success);
}

.portal-session-stat-icon-hours {
  background: rgb(var(--color-accent-rgb) / 0.15);
  color: var(--color-accent);
}

.portal-session-stat-content {
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
}

.portal-session-stat-value {
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-session-stat-label {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-muted-foreground);
}

.portal-session-stat-divider {
  width: 1px;
  height: 28px;
  background: var(--color-border);
}

.portal-next-session {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  padding: 1.25rem 1.5rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 20px;
}

.portal-next-session-label {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.25rem 0.5rem;
  border-radius: 9999px;
  background: rgb(var(--color-primary-rgb) / 0.12);
  border: 1px solid rgb(var(--color-primary-rgb) / 0.25);
  color: var(--color-primary);
  font-size: 0.6875rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  width: fit-content;
}

.portal-next-session-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1.5rem;
  flex-wrap: wrap;
}

.portal-next-session-info {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.portal-next-session-avatar {
  width: 48px;
  height: 48px;
  border-radius: 9999px;
  background: var(--color-muted);
  border: 1px solid var(--color-border);
  color: var(--color-muted-foreground);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  overflow: hidden;
  text-transform: uppercase;
}

.portal-next-session-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.portal-next-session-details {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.portal-next-session-details h3 {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-foreground);
  margin: 0;
}

.portal-next-session-details p {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
  margin: 0;
}

.portal-next-session-time {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 0.25rem;
}

.portal-next-session-countdown {
  font-size: 1.25rem;
  font-weight: 600;
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  color: var(--color-primary);
}

.portal-next-session-date {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

/* =============================================================================
   CREDITS PAGE
   ============================================================================= */

.portal-credits-hero {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding: 2rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 24px;
  position: relative;
  overflow: hidden;
}

.portal-credits-hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 10% 20%, rgb(var(--theme-glow) / 0.2), transparent 60%);
  opacity: 0.2;
  pointer-events: none;
}

@media (min-width: 768px) {
  .portal-credits-hero {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
}

.portal-credits-hero-content {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  flex: 1;
  position: relative;
}

.portal-credits-hero-main {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.portal-credits-hero-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-foreground);
  letter-spacing: -0.02em;
}

.portal-credits-hero-subtitle {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  line-height: 1.5;
}

.portal-credits-hero-warning {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.4rem 0.75rem;
  border-radius: 9999px;
  background: rgb(var(--color-warning) / 0.12);
  border: 1px solid rgb(var(--color-warning) / 0.25);
  color: var(--color-warning);
  font-size: 0.75rem;
  font-weight: 600;
  width: fit-content;
}

.portal-credits-hero-visual {
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-credits-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1rem;
}

.portal-credits-stat-card {
  position: relative;
  padding: 1.25rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 18px;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  overflow: hidden;
}

.portal-credits-stat-card-primary {
  border-left: 3px solid var(--color-primary);
}

.portal-credits-stat-card-secondary {
  border-left: 3px solid var(--color-muted-foreground);
}

.portal-credits-stat-card-warning {
  border-left: 3px solid var(--color-warning);
}

.portal-credits-stat-icon {
  width: 44px;
  height: 44px;
  border-radius: 14px;
  background: var(--color-muted);
  color: var(--color-muted-foreground);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.portal-credits-stat-card-primary .portal-credits-stat-icon {
  background: rgb(var(--color-primary-rgb) / 0.15);
  color: var(--color-primary);
}

.portal-credits-stat-card-secondary .portal-credits-stat-icon {
  background: rgb(var(--color-muted-foreground) / 0.15);
  color: var(--color-muted-foreground);
}

.portal-credits-stat-card-warning .portal-credits-stat-icon {
  background: color-mix(in srgb, var(--color-warning) 15%, transparent);
  color: var(--color-warning);
}

.portal-credits-stat-content {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.portal-credits-stat-value {
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-foreground);
}

.portal-credits-stat-label {
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-muted-foreground);
}

.portal-credits-stat-hint {
  margin-top: auto;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-credits-stat-pulse {
  position: absolute;
  inset: 0;
  border-radius: 18px;
  border: 1px solid rgb(var(--color-warning) / 0.4);
  animation: portal-glow-pulse 2s ease-in-out infinite;
  pointer-events: none;
}

.portal-credits-mentor-section {
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 20px;
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  animation: portal-fade-in 0.4s ease forwards;
  opacity: 0;
}

.portal-credits-mentor-section-warning {
  border-color: rgb(var(--color-warning) / 0.4);
  box-shadow: 0 10px 20px -18px rgb(var(--color-warning) / 0.4);
}

.portal-credits-mentor-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  flex-wrap: wrap;
}

.portal-credits-mentor-info {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.portal-credits-mentor-avatar {
  width: 44px;
  height: 44px;
  border-radius: 9999px;
  border: 2px solid var(--color-border);
  background: var(--color-muted);
  color: var(--color-muted-foreground);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  object-fit: cover;
  text-transform: uppercase;
}

.portal-credits-mentor-avatar-fallback {
  background: rgb(var(--color-primary-rgb) / 0.12);
  color: var(--color-primary);
}

.portal-credits-mentor-name {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-credits-mentor-count {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-credits-mentor-visual {
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-credits-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1rem;
}

.portal-credit-item {
  position: relative;
  padding: 1.25rem;
  border-radius: 16px;
  background: rgb(var(--color-muted) / 0.2);
  border: 1px solid var(--color-border);
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  transition: all 0.2s ease;
  animation: portal-fade-in 0.4s ease forwards;
  opacity: 0;
}

.portal-credit-item:hover {
  border-color: rgb(var(--color-primary-rgb) / 0.3);
  background: rgb(var(--color-muted) / 0.4);
  transform: translateY(-2px);
}

.portal-credit-item-expiring {
  border-color: rgb(var(--color-warning) / 0.4);
  background: rgb(var(--color-warning) / 0.05);
}

.portal-credit-item-expired {
  opacity: 0.7;
}

.portal-credit-item-depleted {
  opacity: 0.75;
}

.portal-credit-item-pulse {
  position: absolute;
  inset: 0;
  border-radius: 16px;
  border: 1px solid rgb(var(--color-warning) / 0.4);
  animation: portal-glow-pulse 2s ease-in-out infinite;
  pointer-events: none;
}

.portal-credit-item-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 0.75rem;
}

.portal-credit-item-service {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.portal-credit-item-service-icon {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  background: rgb(var(--color-primary-rgb) / 0.12);
  color: var(--color-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.portal-credit-item-service-name {
  display: block;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-credit-item-service-duration {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-credit-item-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.5rem;
  border-radius: 9999px;
  font-size: 0.625rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border: 1px solid transparent;
}

.portal-credit-item-badge-active {
  background: rgb(var(--color-success) / 0.12);
  border-color: rgb(var(--color-success) / 0.3);
  color: var(--color-success);
}

.portal-credit-item-badge-warning {
  background: rgb(var(--color-warning) / 0.12);
  border-color: rgb(var(--color-warning) / 0.3);
  color: var(--color-warning);
}

.portal-credit-item-badge-expired {
  background: rgb(var(--color-destructive) / 0.12);
  border-color: rgb(var(--color-destructive) / 0.3);
  color: var(--color-destructive);
}

.portal-credit-item-badge-depleted {
  background: var(--color-muted);
  border-color: var(--color-border);
  color: var(--color-muted-foreground);
}

.portal-credit-item-progress-section {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.portal-credit-item-progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-credit-item-progress-used {
  font-weight: 500;
}

.portal-credit-item-progress-remaining {
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-credit-item-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.portal-credit-item-date {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-credit-item-book-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.375rem 0.75rem;
  border-radius: 9999px;
  background: rgb(var(--color-primary-rgb) / 0.12);
  color: var(--color-primary);
  border: 1px solid rgb(var(--color-primary-rgb) / 0.3);
  font-size: 0.75rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.portal-credit-item-book-btn:hover {
  background: rgb(var(--color-primary-rgb) / 0.2);
  border-color: rgb(var(--color-primary-rgb) / 0.5);
}

.portal-credits-actions {
  margin-top: 0.5rem;
}

.portal-credits-action-btn {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem 1.25rem;
  border-radius: 18px;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  text-align: left;
  transition: all 0.2s ease;
}

.portal-credits-action-btn:hover {
  border-color: rgb(var(--color-primary-rgb) / 0.3);
  background: rgb(var(--color-muted) / 0.2);
  transform: translateY(-2px);
}

.portal-credits-action-icon {
  width: 44px;
  height: 44px;
  border-radius: 14px;
  background: rgb(var(--color-accent-rgb) / 0.12);
  color: var(--color-accent);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.portal-credits-action-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.portal-credits-action-title {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-credits-action-desc {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-credits-action-arrow {
  color: var(--color-muted-foreground);
  transition: transform 0.2s ease, color 0.2s ease;
}

.portal-credits-action-btn:hover .portal-credits-action-arrow {
  transform: translateX(4px);
  color: var(--color-primary);
}

.portal-credits-benefits {
  padding: 1.5rem;
  border-radius: 20px;
  background: var(--color-card);
  border: 1px solid var(--color-border);
}

.portal-credits-benefits-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-foreground);
  margin-bottom: 1rem;
}

.portal-credits-benefits-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
}

.portal-credits-benefit {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  background: rgb(var(--color-muted) / 0.4);
  border: 1px solid var(--color-border);
  border-radius: 14px;
}

.portal-credits-benefit-icon {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  background: rgb(var(--color-primary-rgb) / 0.12);
  color: var(--color-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.portal-credits-benefit-title {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-foreground);
  display: block;
}

.portal-credits-benefit-desc {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
  display: block;
}

.portal-coin-stack {
  position: relative;
  display: flex;
  align-items: flex-end;
  justify-content: center;
}

.portal-coin-stack-lg {
  width: 96px;
  height: 96px;
}

.portal-coin-stack-sm {
  width: 72px;
  height: 72px;
}

.portal-coin {
  position: absolute;
  bottom: 0;
  color: var(--color-warning);
  filter: drop-shadow(0 6px 12px rgb(var(--color-warning) / 0.25));
  animation: portal-glow-pulse 2.4s ease-in-out infinite;
}

.portal-coin-overflow {
  position: absolute;
  bottom: -0.25rem;
  right: -0.5rem;
  padding: 0.2rem 0.45rem;
  border-radius: 9999px;
  background: color-mix(in srgb, var(--color-warning) 15%, transparent);
  color: var(--color-warning);
  border: 1px solid rgb(var(--color-warning) / 0.3);
  font-size: 0.625rem;
  font-weight: 600;
}

/* =============================================================================
   SETTINGS PAGE
   ============================================================================= */

.portal-settings-hero {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding: 2rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 24px;
  position: relative;
  overflow: hidden;
}

@media (min-width: 768px) {
  .portal-settings-hero {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
}

.portal-settings-hero-content {
  display: flex;
  align-items: center;
  gap: 1.5rem;
}

.portal-settings-hero-avatar {
  position: relative;
  width: 88px;
  height: 88px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-settings-hero-avatar-img {
  width: 80px;
  height: 80px;
  border-radius: 9999px;
  object-fit: cover;
  border: 2px solid var(--color-border);
}

.portal-settings-hero-avatar-placeholder {
  width: 80px;
  height: 80px;
  border-radius: 9999px;
  background: var(--color-muted);
  border: 2px solid var(--color-border);
  color: var(--color-muted-foreground);
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-settings-hero-avatar-glow {
  position: absolute;
  inset: -15px;
  background: radial-gradient(circle, rgb(var(--theme-glow) / 0.35), transparent 70%);
  filter: blur(16px);
  opacity: 0.6;
  z-index: -1;
}

.portal-settings-hero-info {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.portal-settings-hero-name {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-settings-hero-email {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
}

.portal-settings-hero-status {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.25rem 0.5rem;
  border-radius: 9999px;
  background: rgb(var(--color-success) / 0.12);
  border: 1px solid rgb(var(--color-success) / 0.3);
  color: var(--color-success);
  font-size: 0.75rem;
  font-weight: 600;
  width: fit-content;
}

.portal-settings-hero-stats {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
  padding: 0.75rem 1rem;
  border-radius: 16px;
  border: 1px solid var(--color-border);
  background: rgb(var(--color-muted) / 0.3);
}

.portal-settings-hero-stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  min-width: 72px;
}

.portal-settings-hero-stat-value {
  font-size: 1rem;
  font-weight: 600;
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  color: var(--color-foreground);
}

.portal-settings-hero-stat-label {
  font-size: 0.65rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--color-muted-foreground);
}

.portal-settings-hero-stat-divider {
  width: 1px;
  height: 28px;
  background: var(--color-border);
}

.portal-settings-featured {
  position: relative;
  padding: 1.5rem;
  border-radius: 20px;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  overflow: hidden;
}

.portal-settings-featured-glow {
  position: absolute;
  inset: -20%;
  background: radial-gradient(circle at 30% 30%, rgb(var(--color-accent-rgb) / 0.4), transparent 60%);
  opacity: 0.35;
  filter: blur(30px);
  pointer-events: none;
}

.portal-settings-featured-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.25rem 0.5rem;
  border-radius: 9999px;
  background: rgb(var(--color-accent-rgb) / 0.15);
  color: var(--color-accent);
  border: 1px solid rgb(var(--color-accent-rgb) / 0.25);
  font-size: 0.6875rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  position: relative;
  z-index: 1;
}

.portal-settings-featured-content {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  flex-wrap: wrap;
  z-index: 1;
}

.portal-settings-featured-icon {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  background: rgb(var(--color-accent-rgb) / 0.12);
  color: var(--color-accent);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.portal-settings-featured-info {
  flex: 1;
  min-width: 220px;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.portal-settings-featured-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-settings-featured-description {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  line-height: 1.4;
}

.portal-settings-featured-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 0.75rem;
  border-radius: 12px;
  background: rgb(var(--color-accent-rgb) / 0.12);
  color: var(--color-accent);
  border: 1px solid rgb(var(--color-accent-rgb) / 0.3);
  font-size: 0.75rem;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.2s ease;
}

.portal-settings-featured-btn:hover {
  background: rgb(var(--color-accent-rgb) / 0.2);
  border-color: rgb(var(--color-accent-rgb) / 0.45);
}

.portal-settings-actions {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.portal-settings-actions-grid {
  width: 100%;
  align-items: stretch;
}

.portal-settings-action {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem;
  border-radius: 16px;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  color: var(--color-foreground);
  text-decoration: none;
  transition: all 0.2s ease;
  height: 100%;
}

.portal-settings-action:hover {
  border-color: rgb(var(--color-accent-rgb) / 0.3);
  background: rgb(var(--color-muted) / 0.2);
  transform: translateY(-2px);
}

.portal-settings-action-icon {
  width: 36px;
  height: 36px;
  border-radius: 12px;
  background: var(--color-muted);
  color: var(--color-muted-foreground);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.portal-settings-action-icon-profile {
  background: rgb(var(--color-primary-rgb) / 0.12);
  color: var(--color-primary);
}

.portal-settings-action-icon-security {
  background: rgb(var(--color-success) / 0.12);
  color: var(--color-success);
}

.portal-settings-action-icon-notifications {
  background: rgb(var(--color-warning) / 0.12);
  color: var(--color-warning);
}

.portal-settings-action-icon-mcp {
  background: rgb(var(--color-accent-rgb) / 0.12);
  color: var(--color-accent);
}

.portal-settings-action-arrow {
  margin-left: auto;
  color: var(--color-muted-foreground);
  transition: transform 0.2s ease, color 0.2s ease;
}

.portal-settings-action:hover .portal-settings-action-arrow {
  transform: translateX(4px);
  color: var(--color-accent);
}

.portal-settings-info {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.25rem 1.5rem;
  border-radius: 20px;
  background: rgb(var(--color-success) / 0.08);
  border: 1px solid rgb(var(--color-success) / 0.2);
}

.portal-settings-info-icon {
  width: 40px;
  height: 40px;
  border-radius: 12px;
  background: color-mix(in srgb, var(--color-success) 15%, transparent);
  color: var(--color-success);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.portal-settings-info-content {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.portal-settings-info-title {
  font-size: 0.95rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-settings-info-description {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

/* =============================================================================
   LEADERBOARD PAGE
   ============================================================================= */

.portal-leaderboard-row {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  border-radius: 16px;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  transition: all 0.2s ease;
}

.portal-leaderboard-row:hover {
  border-color: rgb(var(--color-primary-rgb) / 0.3);
  background: rgb(var(--color-muted) / 0.2);
  transform: translateY(-2px);
}

.portal-leaderboard-row-top {
  border-color: rgb(var(--color-accent-rgb) / 0.4);
  box-shadow: 0 12px 24px -18px rgb(var(--color-accent-rgb) / 0.4);
}

.portal-leaderboard-rank {
  width: 3rem;
  text-align: center;
  font-size: 1.5rem;
  font-weight: 700;
}

.portal-leaderboard-user {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex: 1;
  min-width: 0;
}

.portal-leaderboard-avatar {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 9999px;
  object-fit: cover;
  border: 2px solid var(--color-border);
}

.portal-leaderboard-name {
  font-weight: 600;
  color: var(--color-foreground);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  transition: color 0.15s ease;
}

.group:hover .portal-leaderboard-name {
  color: var(--color-primary);
}

.portal-leaderboard-badge-count {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-leaderboard-breakdown {
  display: none;
  align-items: center;
  gap: 1rem;
}

@media (min-width: 768px) {
  .portal-leaderboard-breakdown {
    display: flex;
  }
}

.portal-leaderboard-tier {
  text-align: center;
}

.portal-leaderboard-tier-emoji {
  display: block;
  font-size: 1.25rem;
}

.portal-leaderboard-tier-count {
  font-size: 0.75rem;
  font-family: var(--font-mono, monospace);
  font-weight: 600;
  color: var(--color-muted-foreground);
}

.portal-leaderboard-tier-gold {
  color: var(--color-warning);
}

.portal-leaderboard-score {
  text-align: center;
  min-width: 4rem;
}

.portal-score-badge {
  display: inline-block;
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  font-size: 1rem;
  font-weight: 600;
  background: rgb(var(--color-primary-rgb) / 0.1);
  color: var(--color-primary);
  border: 1px solid rgb(var(--color-primary-rgb) / 0.2);
}

.portal-info-box {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 1rem;
  border-radius: 16px;
  background: rgb(var(--color-muted) / 0.3);
  border: 1px solid var(--color-border);
  color: var(--color-foreground);
}

.portal-info-box-info {
  background: rgb(var(--color-info) / 0.08);
  border-color: rgb(var(--color-info) / 0.3);
}

.portal-info-box-info svg {
  color: var(--color-info);
}

/* ===== SKILL BADGES (Badges Page) ===== */

/* Skill Badge Card */
.portal-skill-badge-card {
  position: relative;
  padding: 1.5rem;
  border-radius: 20px;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
  animation: portal-fade-in 0.4s ease forwards;
}

.portal-skill-badge-card-earned {
  border-color: rgb(var(--color-primary-rgb) / 0.3);
}

.portal-skill-badge-card-earned:hover {
  transform: translateY(-4px);
  box-shadow: 0 16px 32px -8px rgba(0, 0, 0, 0.2);
}

.portal-skill-badge-card-bronze {
  border-color: rgb(205 127 50 / 0.4);
}

.portal-skill-badge-card-silver {
  border-color: rgb(192 192 192 / 0.4);
}

.portal-skill-badge-card-gold {
  border-color: rgb(255 215 0 / 0.4);
}

.portal-skill-badge-card-locked {
  opacity: 0.7;
}

.portal-skill-badge-card-locked:hover {
  opacity: 0.85;
}

/* Skill Badge Glow */
.portal-skill-badge-glow {
  position: absolute;
  inset: -50%;
  pointer-events: none;
  animation: badge-glow 3s ease-in-out infinite;
}

.portal-skill-badge-glow-bronze {
  background: radial-gradient(circle at center, rgb(205 127 50 / 0.15) 0%, transparent 70%);
}

.portal-skill-badge-glow-silver {
  background: radial-gradient(circle at center, rgb(192 192 192 / 0.15) 0%, transparent 70%);
}

.portal-skill-badge-glow-gold {
  background: radial-gradient(circle at center, rgb(255 215 0 / 0.2) 0%, transparent 70%);
}

@keyframes badge-glow {
  0%, 100% { opacity: 0.5; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.1); }
}

/* Skill Badge Header */
.portal-skill-badge-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 1rem;
}

.portal-skill-badge-icon {
  width: 56px;
  height: 56px;
  border-radius: 14px;
  background: var(--color-muted);
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-skill-badge-icon-bronze {
  background: linear-gradient(135deg, rgb(205 127 50 / 0.2), rgb(205 127 50 / 0.1));
}

.portal-skill-badge-icon-silver {
  background: linear-gradient(135deg, rgb(192 192 192 / 0.2), rgb(192 192 192 / 0.1));
}

.portal-skill-badge-icon-gold {
  background: linear-gradient(135deg, rgb(255 215 0 / 0.2), rgb(255 215 0 / 0.1));
}

.portal-skill-badge-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-foreground);
  margin-bottom: 0.5rem;
}

.portal-skill-badge-title-locked {
  color: var(--color-muted-foreground);
}

.portal-skill-badge-description {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  line-height: 1.5;
  margin-bottom: 1rem;
}

/* Skill Badge Tag Section */
.portal-skill-badge-tag-section {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.portal-skill-badge-tag-label {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-skill-tag {
  display: inline-flex;
  padding: 0.25rem 0.5rem;
  background: rgb(var(--color-primary-rgb) / 0.1);
  color: var(--color-primary);
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 500;
}

/* Skill Badge Tiers */
.portal-skill-badge-tiers {
  margin-bottom: 1rem;
}

.portal-skill-badge-tiers-label {
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--color-muted-foreground);
  margin-bottom: 0.5rem;
}

.portal-skill-badge-tiers-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0.5rem;
}

/* Tier Requirement Card */
.portal-tier-req-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  padding: 0.5rem;
  border-radius: 8px;
  background: color-mix(in srgb, var(--color-muted) 50%, transparent);
  border: 1px solid var(--color-border);
  transition: all 0.2s ease;
}

.portal-tier-req-card-bronze { border-color: rgb(205 127 50 / 0.3); }
.portal-tier-req-card-silver { border-color: rgb(192 192 192 / 0.3); }
.portal-tier-req-card-gold { border-color: rgb(255 215 0 / 0.3); }

.portal-tier-req-card-current {
  background: rgb(var(--color-primary-rgb) / 0.1);
  border-color: rgb(var(--color-primary-rgb) / 0.3);
}

.portal-tier-req-card-achieved {
  background: color-mix(in srgb, var(--color-success) 10%, transparent);
  border-color: rgb(var(--color-success) / 0.3);
}

.portal-tier-req-icon {
  font-size: 1.25rem;
}

.portal-tier-req-value {
  font-size: 0.625rem;
  color: var(--color-muted-foreground);
}

.portal-tier-req-check {
  width: 12px;
  height: 12px;
  color: var(--color-success);
}

/* Skill Badge Details */
.portal-skill-badge-details {
  padding-top: 1rem;
  border-top: 1px solid var(--color-border);
}

.portal-skill-badge-courses {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.75rem;
}

.portal-skill-badge-courses-label {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-skill-badge-courses-value {
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-skill-badge-progress {
  margin-bottom: 0.75rem;
}

.portal-skill-badge-progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-skill-badge-progress-hint {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
  margin-top: 0.5rem;
}

.portal-skill-badge-date {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

/* Skill Badge Locked Info */
.portal-skill-badge-locked-info {
  padding-top: 1rem;
  border-top: 1px solid var(--color-border);
}

.portal-skill-badge-locked-text {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  line-height: 1.5;
  margin-bottom: 0.75rem;
}

.portal-skill-badge-locked-hint {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  color: var(--color-primary);
}

/* Gold Celebration */
.portal-gold-celebration {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem;
  background: linear-gradient(135deg, rgb(255 215 0 / 0.1), rgb(255 215 0 / 0.05));
  border: 1px solid rgb(255 215 0 / 0.3);
  border-radius: 10px;
  margin-bottom: 0.75rem;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-foreground);
}

.portal-gold-celebration-icon {
  color: rgb(255 215 0);
}

.portal-gold-celebration-stars {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  margin-left: auto;
  color: rgb(255 215 0);
}

/* Tier Badge */
.portal-tier-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.6875rem;
  font-weight: 600;
}

.portal-tier-badge-bronze {
  background: rgb(205 127 50 / 0.15);
  color: rgb(205 127 50);
  border: 1px solid rgb(205 127 50 / 0.3);
}

.portal-tier-badge-silver {
  background: rgb(192 192 192 / 0.15);
  color: rgb(192 192 192);
  border: 1px solid rgb(192 192 192 / 0.3);
}

.portal-tier-badge-gold {
  background: rgb(255 215 0 / 0.15);
  color: rgb(255 215 0);
  border: 1px solid rgb(255 215 0 / 0.3);
}

/* ===== ESSENTIAL COURSE BADGES ===== */

.portal-essential-badge-card {
  position: relative;
  padding: 1.5rem;
  border-radius: 20px;
  background: var(--color-card);
  border: 2px solid transparent;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
}

.portal-essential-badge-card-earned {
  background: linear-gradient(135deg, var(--color-card) 0%, color-mix(in srgb, var(--color-muted) 50%, transparent) 100%);
}

.portal-essential-badge-card-locked {
  opacity: 0.7;
  border-color: var(--color-border);
}

.portal-essential-badge-card-earned:hover {
  transform: translateY(-4px);
}

.portal-essential-badge-card-locked:hover {
  opacity: 0.85;
  transform: translateY(-2px);
}

/* Essential badge gradient border */
.portal-essential-badge-border {
  position: absolute;
  inset: -2px;
  background: linear-gradient(135deg, rgb(245 158 11) 0%, rgb(6 182 212) 100%);
  border-radius: inherit;
  z-index: -1;
}

/* Essential ribbon */
.portal-essential-ribbon {
  position: absolute;
  top: 12px;
  right: 12px;
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  font-size: 0.625rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  background: linear-gradient(135deg, rgb(245 158 11) 0%, rgb(217 119 6) 100%);
  color: white;
  border-radius: 9999px;
  box-shadow: 0 2px 8px rgb(245 158 11 / 0.3);
}

/* Essential glow effects */
.portal-essential-glow-gold {
  box-shadow:
    0 0 20px rgb(255 215 0 / 0.3),
    0 0 40px rgb(255 215 0 / 0.2),
    0 20px 40px -10px rgb(255 215 0 / 0.2);
}

.portal-essential-glow-silver {
  box-shadow:
    0 0 20px rgb(192 192 192 / 0.3),
    0 0 40px rgb(192 192 192 / 0.2),
    0 20px 40px -10px rgb(192 192 192 / 0.2);
}

.portal-essential-glow-bronze {
  box-shadow:
    0 0 20px rgb(205 127 50 / 0.3),
    0 0 40px rgb(205 127 50 / 0.2),
    0 20px 40px -10px rgb(205 127 50 / 0.2);
}

/* Essential badge header */
.portal-essential-badge-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 1rem;
}

.portal-essential-badge-icon {
  width: 64px;
  height: 64px;
  border-radius: 16px;
  background: linear-gradient(135deg, rgb(245 158 11 / 0.15) 0%, rgb(6 182 212 / 0.15) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid rgb(245 158 11 / 0.3);
}

.portal-essential-badge-icon-gold {
  background: linear-gradient(135deg, rgb(255 215 0 / 0.2) 0%, rgb(245 158 11 / 0.2) 100%);
  border-color: rgb(255 215 0 / 0.4);
}

.portal-essential-badge-icon-silver {
  background: linear-gradient(135deg, rgb(192 192 192 / 0.2) 0%, rgb(148 163 184 / 0.2) 100%);
  border-color: rgb(192 192 192 / 0.4);
}

.portal-essential-badge-icon-bronze {
  background: linear-gradient(135deg, rgb(205 127 50 / 0.2) 0%, rgb(180 83 9 / 0.2) 100%);
  border-color: rgb(205 127 50 / 0.4);
}

/* Essential tier badge */
.portal-essential-tier {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 12px;
  border-radius: 9999px;
  font-size: 0.6875rem;
  font-weight: 600;
}

.portal-essential-tier-gold {
  background: linear-gradient(135deg, rgb(255 215 0 / 0.2) 0%, rgb(245 158 11 / 0.2) 100%);
  color: rgb(255 215 0);
  border: 1px solid rgb(255 215 0 / 0.4);
}

.portal-essential-tier-silver {
  background: linear-gradient(135deg, rgb(192 192 192 / 0.2) 0%, rgb(148 163 184 / 0.2) 100%);
  color: rgb(192 192 192);
  border: 1px solid rgb(192 192 192 / 0.4);
}

.portal-essential-tier-bronze {
  background: linear-gradient(135deg, rgb(205 127 50 / 0.2) 0%, rgb(180 83 9 / 0.2) 100%);
  color: rgb(205 127 50);
  border: 1px solid rgb(205 127 50 / 0.4);
}

/* Essential badge content */
.portal-essential-badge-title {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-foreground);
  margin-bottom: 0.5rem;
}

.portal-essential-badge-description {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  line-height: 1.5;
  margin-bottom: 0.75rem;
}

/* Essential badge context */
.portal-essential-badge-context {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

/* Essential performance metrics */
.portal-essential-performance {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0.5rem;
  padding: 0.75rem;
  background: color-mix(in srgb, var(--color-muted) 50%, transparent);
  border-radius: 12px;
  margin-bottom: 1rem;
}

.portal-essential-performance-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  text-align: center;
}

.portal-essential-performance-value {
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-foreground);
}

.portal-essential-performance-label {
  font-size: 0.625rem;
  color: var(--color-muted-foreground);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Essential badge date */
.portal-essential-badge-date {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
  margin-bottom: 0.75rem;
}

/* Essential badge type indicator */
.portal-essential-badge-type {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  font-size: 0.6875rem;
  color: var(--color-muted-foreground);
  padding-top: 0.75rem;
  border-top: 1px solid var(--color-border);
}

.portal-locked-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.625rem;
  border-radius: 9999px;
  font-size: 0.6875rem;
  font-weight: 500;
  background: var(--color-muted);
  color: var(--color-muted-foreground);
  border: 1px solid var(--color-border);
}

/* Tier Breakdown Cards */
.portal-tier-card {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1rem;
  border-radius: 12px;
  background: color-mix(in srgb, var(--color-muted) 50%, transparent);
  border: 1px solid var(--color-border);
  transition: all 0.2s ease;
}

.portal-tier-card:hover {
  transform: translateY(-2px);
}

.portal-tier-card-bronze {
  border-color: rgb(205 127 50 / 0.3);
}

.portal-tier-card-bronze .portal-tier-card-icon {
  color: rgb(205 127 50);
}

.portal-tier-card-silver {
  border-color: rgb(192 192 192 / 0.3);
}

.portal-tier-card-silver .portal-tier-card-icon {
  color: rgb(192 192 192);
}

.portal-tier-card-gold {
  border-color: rgb(255 215 0 / 0.3);
}

.portal-tier-card-gold .portal-tier-card-icon {
  color: rgb(255 215 0);
}

.portal-tier-card-icon {
  display: flex;
  align-items: center;
  justify-content: center;
}

.portal-tier-card-content {
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
}

.portal-tier-card-value {
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-foreground);
  line-height: 1;
}

.portal-tier-card-label {
  font-size: 0.625rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-muted-foreground);
}

/* Enhanced Tabs */
.portal-tabs-enhanced {
  display: flex;
  gap: 0.5rem;
  padding: 0.5rem;
  background: color-mix(in srgb, var(--color-muted) 50%, transparent);
  border-radius: 12px;
  margin-bottom: 1.5rem;
}

.portal-tabs-enhanced [role="tab"] {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  border-radius: 8px;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-muted-foreground);
  background: transparent;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
}

.portal-tabs-enhanced [role="tab"]:hover {
  color: var(--color-foreground);
  background: var(--color-muted);
}

.portal-tabs-enhanced [role="tab"][aria-selected="true"] {
  color: var(--color-primary);
  background: var(--color-card);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.portal-tabs-enhanced [role="tab"] svg {
  opacity: 0.7;
}

.portal-tabs-enhanced [role="tab"]:hover svg,
.portal-tabs-enhanced [role="tab"][aria-selected="true"] svg {
  opacity: 1;
}

.portal-tab-content {
  margin-top: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

/* =============================================================================
   SECTION CARD - Generic container for dashboard sections
   ============================================================================= */

.portal-section-card {
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 20px;
  padding: 1.5rem;
  /* Grid sizing - allows card to shrink in grid layouts */
  min-width: 0;
  overflow: hidden;
}

.portal-section-header {
  padding-bottom: 1rem;
  margin-bottom: 1rem;
  border-bottom: 1px solid var(--color-border);
}

.portal-section-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-foreground);
  line-height: 1.4;
}

.portal-section-description {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  margin-top: 0.25rem;
  line-height: 1.5;
}

.portal-section-body {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* ===== PAGE TITLE CLASSES ===== */
.portal-page-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-foreground);
  line-height: 1.2;
}

@media (min-width: 768px) {
  .portal-page-title {
    font-size: 1.875rem;
  }
}

.portal-page-subtitle {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  margin-top: 0.5rem;
  line-height: 1.5;
}

@media (min-width: 768px) {
  .portal-page-subtitle {
    font-size: 1rem;
  }
}

.portal-page-header-tight {
  padding-top: 1rem;
  padding-bottom: 0.5rem;
}

/* ===== ERROR STATE ===== */
.portal-error {
  font-size: 0.875rem;
  color: var(--color-destructive);
  margin-top: 0.25rem;
}

/* =============================================================================
   MODULE PAGE COMPONENTS
   ============================================================================= */

.portal-command-row {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.5rem 0.75rem;
  border-radius: 12px;
  background: rgb(var(--color-muted) / 0.4);
  border: 1px solid var(--color-border);
}

.portal-kbd {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 48px;
  padding: 0.25rem 0.5rem;
  border-radius: 8px;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  font-size: 0.75rem;
  font-weight: 600;
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  color: var(--color-foreground);
  box-shadow: inset 0 -1px 0 var(--color-border);
}

.portal-lesson-card {
  padding: 1rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 16px;
  transition: all 0.2s ease;
}

.portal-lesson-card:hover {
  border-color: rgb(var(--color-primary-rgb) / 0.3);
  transform: translateY(-2px);
  box-shadow: 0 10px 20px -16px rgb(var(--color-primary-rgb) / 0.4);
}

.portal-lesson-number {
  width: 32px;
  height: 32px;
  border-radius: 10px;
  background: rgb(var(--color-primary-rgb) / 0.12);
  color: var(--color-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 600;
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
}

/* =============================================================================
   PROGRESS HERO - Hero section with radial progress ring
   ============================================================================= */

.portal-progress-hero {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
  padding: 2rem;
  background: var(--color-card);
  border: 1px solid var(--color-border);
  border-radius: 24px;
  position: relative;
  overflow: hidden;
}

@media (min-width: 768px) {
  .portal-progress-hero {
    flex-direction: row;
    justify-content: space-between;
  }
}

.portal-progress-hero-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.portal-progress-hero-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-foreground);
  letter-spacing: -0.025em;
}

@media (min-width: 768px) {
  .portal-progress-hero-title {
    font-size: 1.5rem;
  }
}

.portal-progress-hero-subtitle {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
  line-height: 1.5;
}

/* =============================================================================
   BAR CHART - Weekly activity / data visualization
   ============================================================================= */

.portal-bar-chart {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 0.75rem;
  height: 180px;
  padding: 1rem 0;
}

.portal-bar-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  flex: 1;
  height: 100%;
  animation: portal-fade-in 0.4s ease forwards;
  opacity: 0;
}

.portal-bar-container {
  flex: 1;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  position: relative;
}

.portal-bar {
  width: 100%;
  max-width: 40px;
  min-height: 4px;
  background: linear-gradient(180deg, var(--color-primary), rgb(var(--color-primary-rgb) / 0.7));
  border-radius: 4px 4px 0 0;
  transition: height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.portal-bar-value {
  position: absolute;
  top: -1.5rem;
  font-size: 0.75rem;
  font-weight: 600;
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  color: var(--color-foreground);
}

.portal-bar-label {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
  text-align: center;
}

/* Chart Summary */
.portal-chart-summary {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-top: 1rem;
  border-top: 1px solid var(--color-border);
  margin-top: 1rem;
}

.portal-chart-legend {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.portal-chart-legend-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-chart-legend-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--color-primary);
}

.portal-chart-total {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.portal-chart-total-label {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

.portal-chart-total-value {
  font-size: 0.875rem;
  font-weight: 600;
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
  color: var(--color-primary);
}

/* =============================================================================
   ACHIEVEMENT ITEMS - List of recent achievements
   ============================================================================= */

.portal-achievement-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  background: rgb(var(--color-muted) / 0.3);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.portal-achievement-item:hover {
  background: color-mix(in srgb, var(--color-muted) 50%, transparent);
  transform: translateX(4px);
  border-color: rgb(var(--color-primary-rgb) / 0.3);
}

.portal-achievement-icon {
  width: 40px;
  height: 40px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.portal-achievement-item:hover .portal-achievement-icon {
  transform: scale(1.05);
}

.portal-achievement-content {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
}

.portal-achievement-title {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-foreground);
}

.portal-achievement-subtitle {
  font-size: 0.75rem;
  color: var(--color-muted-foreground);
}

/* =============================================================================
   GOAL CARDS - Learning goals with progress
   ============================================================================= */

.portal-goal-card {
  padding: 1rem;
  background: rgb(var(--color-muted) / 0.3);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
}

.portal-goal-card:hover {
  background: color-mix(in srgb, var(--color-muted) 50%, transparent);
  transform: translateY(-2px);
}

.portal-goal-card-primary {
  border-left: 3px solid var(--color-primary);
}

.portal-goal-card-primary:hover {
  box-shadow: 0 8px 24px -8px rgb(var(--color-primary-rgb) / 0.15);
}

.portal-goal-card-secondary {
  border-left: 3px solid var(--color-muted-foreground);
}

.portal-goal-card-secondary:hover {
  box-shadow: 0 8px 24px -8px color-mix(in srgb, var(--color-muted-foreground) 10%, transparent);
}

.portal-goal-card-streak {
  border-left: 3px solid rgb(245 158 11);
}

.portal-goal-card-streak:hover {
  box-shadow: 0 8px 24px -8px rgb(245 158 11 / 0.15);
}

.portal-goal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.75rem;
}

.portal-goal-title {
  font-size: 0.75rem;
  font-weight: 500;
  color: var(--color-muted-foreground);
}

.portal-goal-value {
  font-size: 0.875rem;
  font-weight: 600;
  font-family: var(--font-mono, 'SF Mono', Menlo, monospace);
}

.portal-goal-status {
  font-size: 0.75rem;
  margin-top: 0.5rem;
}

.portal-goal-status-success {
  color: var(--color-success);
}

.portal-goal-status-muted {
  color: var(--color-muted-foreground);
}

/* Progress bar variants for goals */
.portal-progress-secondary {
  background: linear-gradient(90deg, var(--color-muted-foreground), rgb(var(--color-muted-foreground) / 0.7));
}

.portal-progress-streak {
  background: linear-gradient(90deg, rgb(245 158 11), rgb(245 158 11 / 0.7));
}

/* =============================================================================
   UTILITY CLASSES - Links, compact empty states
   ============================================================================= */

.portal-skeleton {
  background: rgb(var(--color-muted) / 0.6);
  border: 1px solid rgb(var(--color-border) / 0.6);
  animation: portal-glow-pulse 1.5s ease-in-out infinite;
}

.portal-text-link {
  color: var(--color-primary);
  text-decoration: none;
  transition: color 0.2s ease;
}

.portal-text-link:hover {
  color: var(--color-primary-hover, var(--color-primary));
  text-decoration: underline;
}

.portal-empty-state-small {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 2rem 1rem;
  gap: 0.75rem;
}

.portal-empty-state-small p {
  font-size: 0.875rem;
  color: var(--color-muted-foreground);
}

/* ===== ACCESSIBILITY ===== */
@media (prefers-reduced-motion: reduce) {
  .portal-animate-in,
  .portal-animate-fade,
  .portal-animate-slide-up,
  .portal-animate-scale,
  .portal-animate-in-delay-1,
  .portal-animate-in-delay-2,
  .portal-animate-in-delay-3,
  .portal-animate-in-delay-4,
  .portal-animate-in-delay-5,
  .portal-animate-in-delay-8,
  .portal-staggered-grid > *,
  .portal-status-indicator-glow,
  .portal-chat-cursor,
  .portal-chat-typing-dot {
    animation: none;
    opacity: 1;
    transform: none;
  }

  .portal-nav-item,
  .portal-btn,
  .portal-quick-action,
  .portal-glass-card {
    transition: none;
  }
}
